
       
   JSR  
       



VERSION ==>                       #0.13.0

deno ...                          #Built-in commands to use JSR from Deno
ENVVAR DENO_BIN_PATH              #Def: use ENVVAR PATH

jsr                               #Npm package to use JSR from Node
--npm|yarn|pnpm|bun               #Which package manager to use under the hood
--verbose                         #

@SCOPE                            #3 per user (soft limit)
                                  #Created at https://jsr.io/new
                                  #Can invite members, with different privileges
                                  #Max 100 PKGs (soft limit)
                                  #Max 1000 publish/week (soft limit)
                                  #Max 32 chars, only a-z0-9-
PKGNAME                           #Max 20 chars, only a-z0-9-
@SCOPE/PKGNAME                    #PKG
@std/PKGNAME                      #Deno std package

import ...                        #In Deno, maps to https://jsr.io/...
 'jsr:PKG[@RANGE][/PATH]'         #Def RANGE: latest
                                  #'/PATH' must be allowed in JSR_FILE.exports

ENVVAR JSR_URL                    #Custom URL, instead of https://jsr.io
https://jsr.io/PKG@X.Y.Z/PATH     #Download specific file

https://jsr.io/PKG/meta.json      #PKG_META, i.e. description of PKG
PKG_META.scope                    #'@USER'
PKG_META.name                     #'PKGNAME'
PKG_META.latest                   #'X.Y.Z'
PKG_META.versions['X.Y.Z']        #OBJ

jsr info|show|view PKG[@RANGE]    #Print PKG information:
                                  #  - version[s]
                                  #  - package description
                                  #  - npm URI
                                  #  - publish time

IMPORT_MAP                        #Either DENO_CONFIG or import_map.json (JSONC)

deno add PKG[@RANGE]              #Adds IMPORT_MAP.imports.PKG 'jsr:PKG@RANGE'
                                  #RANGE:
                                  #  - def: latest
                                  #  - always adds ^ unless ~ specified
                                  #  - X.Y.Z even if only X or X.Y specified

jsr add|install|i PKG[@RANGE]...  #Adds as package.json dependency
--save-prod|-P
--save-dev|-D
--save-optional|-O                #Like npm

jsr remove|uninstall|r PKG        #Removes IMPORT_MAP.imports.PKG

https://npm.jsr.io                #npm API-compatible proxy of JSR registry
.npmrc                            #Automatically updated by `jsr add` to include '@jsr:registry=https://npm.jsr.io'
                                  #Should be git committed
npm:PKG@X.Y.Z                     #In package.json dependency
                                  #Slashes converted to __

jsr [run] SCRIPT                  #Run package.json script

JSR_FILE                          #Either DENO_CONFIG or jsr.json (JSONC)
JSR_FILE.name                     #'PKG'
JSR_FILE.version                  #'X.Y.Z'
JSR_FILE.exports                  #'PATH' to main files
                                  #Can specify no default ones, in which case must always import with '.../PATH'
JSR_FILE.publish.include          #'GLOB'_ARR
                                  #Always included: DENO_CONFIG.include
JSR_FILE.publish.exclude          #'GLOB'_ARR
                                  #Always excluded: files in .gitignore, and DENO_CONFIG.exclude
                                  #Can use !GLOB to negate exclusion from .gitignore

jsr publish                      !#Publish package in current directory (including monorepo)
--token TOKEN                     #Auth token (created in UI)
                                  #Def: done through browser instead (preferred)
                                  #Can set expiration
                                  #Can restrict to specific @USER or PKG
--dry-run                         #
--allow-slow-types                #Unless set, forbid TypeScript types that are slow
--allow-dirty                     #Unless set, forbid uncommitted changes with git
--no-provenance                   #Unless set, use GitHub actions provenance attestion, which autenticates the package

GITHUB ACTIONS ==>                #Can either:
                                  #  - use TOKEN
                                  #  - use OIDC (preferred)
                                  #     - by just doing `npx jsr publish`
                                  #     - must use permissions: contents 'read', id-token 'write'
                                  #     - must link GitHub repo (done in UI)
                                  #     - only if GitHub user triggering action is a member of JSR @SCOPE
                                  #        - can remove this restriction in UI
                                  #Can require publishing from CI (done in UI of @SCOPE)

COMMONJS ==>                      #Not supported. Only ESM
TYPESCRIPT ==>                    #Prefer *.ts over *.js + *.d.ts
                                  #Prefer importing *.ts over *.js
IMPORTS ==>                       #Can import npm:..., node:... or data:... like in Deno
MAX SIZE ==>                      #4MB per published file, 40MB per PKG (soft limits)

https://jsr.io/PKG                #UI showing:
                                  #  - package description
                                  #  - runtime compatibility
                                  #  - README.md
                                  #  - files
                                  #  - versions
                                  #  - automatic docs
                                  #  - dependencies and dependents
                                  #  - JSR score
PACKAGE DESCRIPTION ==>           #Added through UI
RUNTIME COMPATIBILITY ==>         #Added through UI
                                  #Browsers, Deno, Node.js, Bun, Cloudflare workers
AUTOMATIC DOCS ==>                #Based on TypeScript types
                                  #Also /** */ comments on exported fields
                                  #Also /** */ comments on main files, using @module ("module doc")

JSR SCORE ==>                     #For ordering. Following fields:
README ==>                        #Has README.md or module doc
                                  #2 points
MODULE DOC ==>                    #Has module doc
                                  #1 point
EXAMPLES ==>                      #Code block in README.md or module doc
                                  #1 point
EXPORTED FILEDS COMMENT ==>       #/** */ comment on >=80% of exported fields
                                  #5 points
NO SLOW TYPES ==>                 #TypeScript types are not slow
                                  #5 points
UI DESCRIPTION ==>                #Must be manually added
                                  #1 point
RUNTIME COMPATIBLITY ==>          #At least 2
                                  #2 points
PROVENANCE ==>                    #Through GitHub action
                                  #1 point
