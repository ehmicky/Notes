
          
   PULUMI  
          



TODO:
  - https://www.pulumi.com/docs/reference/pkg/nodejs/pulumi/pulumi/runtime

VERSION ==>                       #3.63.0


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             YAML              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


PROGRAM                           #YAML


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             NODE              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


@pulumi/pulumi                    #NPULUMI. Node.js client
N*                                #Node.js types

CLASS.isInstance(VAL)->BOOL       #Like VAL instanceof CLASS, but cross-realm
                                  #Available with most CLASSes


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:           REST API            :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


X*                                #REST API request|response

API_URL                           #https://api.pulumi.com/api

Accept: application/vnd.pulumi+8
 [C]                              #
Content-Type: application/json [C]#

REQUEST ==>                       #With POST|PUT|PATCH, JSON request body
                                  #With GET|DELETE, query variables

PAGINATION ==>                    #Some endpoints are always paginated:
                                  #  - Request OBJ: continuationToken=STR
                                  #  - Response OBJ: continuationToken STR
                                  #Others have different way:
                                  #  - Request OBJ: continue STR, size NUM, page NUM
                                  #  - Response OBJ: total NUM, pagination.previous|next|continue STR
                                  #Others are only paginated on-demand:
                                  #  - Request OBJ: pageSize NUM, page NUM
                                  #  - Response OBJ: itemsPerPage NUM, total NUM


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:              CLI              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


pulumi --VAR                      #If type not documented, means BOOL with default false

pulumi ...  --non-interactive     #
pulumi cancel|destroy|import|new
 |plugin rm|policy rm|refresh
 |stack rm|state|up
--yes|-y
ENVVAR PULUMI_SKIP_CONFIRMATIONS  #If 'true', no confirmations
ENVVAR PULUMI_SKIP_UPDATE_CHECK   #If 'true', do not abort when version of Pulumi is not latest

pulumi ... --color                #'auto' (def), 'always', 'never' or 'raw'
ENVVAR NO_COLOR                   #

ENVVAR PULUMI_PREFER_YARN         #If 'true', use yarn instead of npm

pulumi ...
--disable-integrity-checking      #

pulumi ... --emoji|-e             #Allow emojis in the CLI output

pulumi ... --profiling            #STR. Write profiling files to FILENAME.PID.cpu|mem|trace

pulumi about|config|destroy|logs
 |plugin ls|policy [group] ls
 |preview|refresh|stack ls
 |stack output|stack tag ls|up
 |whoami
--json|-j                         #JSON output

pulumi destroy|import|preview
 |refresh|up
--diff                            #Show change as diff
--suppress-outputs                #Do not show OUTPUTs
--suppress-permalink              #If 'true', do no show state permalinks

pulumi destroy|import|preview
 |refresh|up|watch
--parallel|-p                     #NUM (def: unlim). Operates on NUM RESOURCEs in parallel
--message|-m                      #'MESSAGE' describing the operation
--debug|-d                        #Debug logging

pulumi destroy|import|refresh|up
--skip-preview|-f                 #Do not compute a preview first

pulumi destroy|preview|up|watch
--refresh|-r                      #If 'true', refresh STACK state first
--show-config                     #

pulumi destroy|preview
 |state delete|up
--target-dependents               #Also operate on dependent RESOURCEs

pulumi destroy|preview|refresh
 |up|watch
--show-replacement-steps          #Show replacement as two steps (creation then deletion) instead of one
--show-sames                      #Show RESOURCEs that won't change

pulumi destroy|preview|refresh|up
--target|-t                       #'URN'. Only operate specific RESOURCEs, including its child RESOURCEs
                                  #Can use wildcards *|**

pulumi new|preview|up|watch
--config|-c                       #STR_ARR
--config-path                     #STR_ARR

pulumi about|cancel|config|console
 |destroy|import|logs|new|preview
 |refresh|stack|state|up|watch
--stack|-s                        #'STACK' (def: current)

pulumi config|destroy|import|logs
 |preview|refresh|up|watch
--config-file                     #'PATH' (def: guessed)

pulumi about                      #Print:
                                  #  - current OS
                                  #  - pulumi version
                                  #  - current 'PROJECT|STACK|BACKEND'
--transitive|-t                   #Include transitive dependencies

pulumi cancel [STACK]             #Cancel current update
                                  #Does not rollback

pulumi console                    #Open web page to Pulumi Console

pulumi convert                    #Convert a PROGRAM from one runtime to another
--from                            #STR (def: 'yaml'). Converter plugin.
--language                        #STR. Language plugin
--mappings                        #STR
--generate-only                   #Do not install dependencies
--out                             #'DIR' (def: '.')

pulumi destroy                    #Destroy all RESOURCEs in a STACK
--exclude-protected               #Keep protected RESOURCEs
--remove                          #Also destroy STACK itself and its config file

pulumi gen-completion             #Print CLI completion script

pulumi import TYPE NAME ID        #Print declaration to add a RESOURCE not currently managed by Pulumi

--generate-code                   #BOOL. If true (def), print RESOURCE declaration
--out|-o                          #'DIR'

--protect                         #BOOL. If true (def), make RESOURCEs protected

--from                            #STR. Converter plugin.

--provider                        #NAME='URN' of provider
--parent                          #NAME='URN' of parent
--properties                      #'PROP,...'

-f                                #'PATH.json' to import multiple resources.
                                  #OBJ:
                                  #  - nameTable.NAME 'URN': of provider|parent
                                  #  - resources IMPORT_RESOURCE_ARR
IMPORT_RESOURCE.type              #'RTYPE'
IMPORT_RESOURCE.name              #'RESOURCE'
IMPORT_RESOURCE.id                #STR
IMPORT_RESOURCE.parent            #'RESOURCE'
IMPORT_RESOURCE.provider          #'RESOURCE'
IMPORT_RESOURCE.version           #STR
IMPORT_RESOURCE.properties        #'PROP'_ARR

pulumi logs                       #Show provider-specific logs for a RESOURCE
--resource|-r                     #'[RTYPE::]RESOURCE'|'URN' (def: all)
--follow|-f                       #Print in realtime
--since                           #'NUMs|m|h' (def: '1h')

pulumi new [TEMPLATE]             #Create a new PROJECT + STACK from a TEMPLATE
                                  #Def TEMPLATE: interactive choice
                                  #TEMPLATE can also be a:
                                  #  - PATH
                                  #  - URL to GitHub|GitLab|BitBucket repository|branch
--list-templates|-l               #List TEMPLATEs then exit

pulumi [policy] new ...
--offline|-o                      #Only use locally cached TEMPLATEs
--dir                             #'DIR' where to generate (def: '.')
--force|-f                        #Override existing files
--generate-only|-g                #Do not create a STACK, save config nor install dependencies

pulumi package gen-schema PACKAGE #Get a PACKAGE schema.json
                                  #PACKAGE can be name|URL

pulumi package gen-sdk STR        #Generate a PACKAGE SDK
                                  #STR can be:
                                  #  - 'PACKAGE'
                                  #  - PATH to schema.json
                                  #  - PATH to plugin binary
--out|-o                          #'DIR' (def: './sdk')
--language                        #'RUNTIME' or 'all' (def)

pulumi plugin install             #Install a PLUGIN
 [KIND NAME [VERSION]]            #Def KIND|NAME: guessed for current PROJECT

--exact                           #Pin VERSION, instead of allowing any later one
--reinstall                       #Re-install existing PLUGIN

--file|-f                         #PATH to PLUGIN FILE|DIR|ARCHIVE, instead of downloading it
--server                          #'URL' where to download PLUGINs
--checksum                        #'SHA2526' of PLUGIN archive

pulumi plugin rm                  #Uninstall a PLUGIN
 [KIND NAME [VERSION[_RANGE]]]    #Def KIND|NAME: cache only
                                  #Def VERSION: all
--all|-a                          #Remove all PLUGINs

pulumi plugin ls                  #List plugins
--project|-p                      #'PROJECT' (def: current one)

pulumi policy new [TEMPLATE]      #Create new POLICY_PACK
                                  #TEMPLATE: like pulumi new ...

pulumi policy rm
 ORG/POLICY_PACK                  #Remote a POLICY_PACK
 POLICY_PACK_VERSION              #POLICY_PACK_VERSION can be 'all'

pulumi policy ls                  #List all POLICY_PACKs
pulumi policy group ls            #List all POLICY_GROUPs

pulumi policy publish [ORG]       #Publish a POLICY_PACK to the BACKEND
                                  #Def ORG: current one
                                  #Must first be disabled

pulumi policy disable
 ORG/POLICY_PACK                  #Disable a POLICY_PACK
--version                         #'POLICY_PACK_VERSION' (def: all)

pulumi policy disable|enable
--policy-group                    #POLICY_GROUP (def: default one)

pulumi policy enable
 ORG/POLICY_PACK                  #Enable a POLICY_PACK
 POLICY_PACK_VERSION              #POLICY_PACK_VERSION can be 'latest'

pulumi policy enable
 |validate-config ...
--config                          #'PATH' to POLICY_PACK config

pulumi policy validate-config
 ORG/POLICY_PACK
 POLICY_PACK_VERSION              #Validate a POLICY_PACK config

pulumi preview                    #Show a preview of `pulumi up`

pulumi up [TEMPLATE[_URL]]        #Create|update RESOURCEs in a STACK
--show-full-output                #BOOL. If true (def), show OUTPUTs in full

pulumi preview|up ...
--replace                         #Like --target, but for replacements
--target-replace                  #Combine --target + --replace

--show-reads                      #Show RESOURCEs being read, not only ones in the STACK

pulumi preview|up|watch ...
--policy-pack                     #POLICY_PACK_ARR
--policy-pack-config              #'PATH' to POLICY_PACK config

pulumi preview|refresh|up ...
--expect-no-changes               #Fail if there are any changes

pulumi refresh                    #Refresh RESOURCEs in a STACK
--import-pending-creates          #'URN'_ARR of providers of pending creates
--clear-pending-creates           #Remove all pending creates from the state
--skip-pending-creates            #Do not import pending creates in interactive mode

pulumi version                    #Print Pulumi version

pulumi watch                      #Update RESOURCEs in watch mode
--path                            #'DIR|FILE'_ARR to watch (def: '.')

pulumi schema check               #Validate a PACKAGE schema

pulumi state rename URN RESOURCE  #Rename a RESOURCE

pulumi state unprotect URN        #Make a RESOURCE not protected anymore
--all                             #Apply to all RESOURCEs

pulumi state delete URN           #Delete a RESOURCE from the STACK
--force                           #Also delete protected RESOURCEs

pulumi state upgrade              #Migrate to latest version of current BACKEND

pulumi stack ...                  #
--show-name                       #Print 'STACK' then exit

--show-ids|-i                     #Show RESOURCEs IDs
--show-urns|-u                    #Show RESOURCEs URNs

pulumi stack export               #Serialize STACK
--version                         #STR (def: latest)

pulumi stack export|import        #
--file                            #'PATH' of serialized STACK (def: stdout)

pulumi stack import               #Parse STACK, adding it
--force|-f                        #Allow apparent errors

pulumi stack graph [PATH]         #Visualize STACK dependencies as a DOT graph
                                  #Def PATH: stdout
--short-node-name                 #Label each node with its 'RESOURCE'
--ignore-dependency|parent-edges  #Skip edges related to dependencies|parents
--dependency|parent-edge-color    #'#COLOR' (def: '#246C60|#AA6639')

pulumi stack history              #Print STACK previous upates
--full-dates                      #Show absolute dates, not relative
--page                            #NUM (def: 1), for pagination
--page-size                       #NUM (def: 10), for pagination

pulumi stack tag get TAG          #

pulumi stack tag set TAG VAL      #

pulumi stack tag ls               #

pulumi stack tag rm TAG           #

pulumi stack init [ORG/]STACK     #Create an empty STACK
                                  #Def ORG: current one
--copy-config-from                #'STACK2'. Copy its config
--no-select                       #Do not select the STACK
--teams                           #'TEAM'_ARR with read|write permissions

pulumi stack ls                   #Print all STACKs of current PROJECT
--all|-a                          #Print for all PROJECTs
--organization|-o                 #'ORG'
--project|-p                      #'PROJECT'
--tag|-t                          #'TAG=VAL' filter

pulumi stack output [PROP]        #Print an OUTPUT value
                                  #If no PROP, prints all OUTPUT available
--shell                           #Print as shell script instead

pulumi stack rename STACK         #Rename a STACK

pulumi stack rm [STACK]           #Remove an empty STACK and its config
--preserve-config                 #Do not delete the STACK config
--force|-f                        #Delete even if STACK has RESOURCEs

pulumi stack select [STACK]       #Select the STACK, i.e. make it the current one
                                  #Def STACK: interactive prompt
--create|-c                       #Upserts

pulumi stack unselect             #No more current STACK


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            CONFIG             :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


pulumi config                     #
--path                            #Allow using VARR

pulumi config get VARR            #

pulumi config set VARR [VAL]      #Def VAL: stdin
--plaintext|secret                #Whether to encrypt or not

pulumi config set-all
--plaintext|secret VARR=VAL       #

pulumi config rm VARR             #

pulumi config rm-all VARR...      #

pulumi config cp VARR             #
--dest|-d                         #'STACK'

pulumi config refresh             #
--force|-f                        #Do not abort if config file exists

PROGRAM.config                    #PCONFIG

PCONFIG.type                      #'String|Number' or 'List<String|Number>'
PCONFIG.default                   #VAL

new Config(['CONFIG'])            #NCONFIG
NCONFIG.name                      #'CONFIG'

NCONFIG.get('KEY'[, NCSOPTS])
 [->VAL]                          #
NCSOPTS.allowedValues             #ARR
NCSOPTS.min|maxLength             #NUM
NCSOPTS.pattern                   #REGEXP|'REGEXP'

NCONFIG.getNumber
 ('KEY'[, NCNOPTS])[->NUM]        #
NCNOPTS.min|max                   #NUM

NCONFIG.getBoolean('KEY')[->BOOL] #
NCONFIG.getObject('KEY')[->VAL]   #

NCONFIG.require*(...)->VAL        #Same as NCONFIG.get*(...) but throw instead of returning undefined

NUPDATE_SUMMARY.config            #NCONFIG_MAP
NSTACK.getAllConfig()
 ->PROMISE_NCONFIG_MAP            #
NSTACK.getConfig('KEY')
 ->PROMISE_NCONFIG_VAL            #
NSTACK.refreshConfig()
 ->PROMISE_NCONFIG_MAP            #
NSTACK.removeAllConfig(STR_ARR)
 ->PROMISE                        #
NSTACK.removeConfig(STR)->PROMISE #
NSTACK.setAllConfig(NCONFIG_MAP)
 ->PROMISE                        #
NSTACK.setConfig(STR, NCONFIG_VAL)
 ->PROMISE                        #

NCONFIG_MAP.KEY                   #NCONFIG_VAL
NCONFIG_VAL.value                 #STR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:          EXPRESSION           :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


EXPR                              #

${VARR}                           #Replaced by PROGRAM.config|variables|resources.VARR or GLOBALS.VARR
                                  #Can be part of a STR if value is a STR itself
                                  #VARR:
                                  #  - VAR.VAR2
                                  #  - VAR["VAR2"]
                                  #     - same as VAR.VAR2 but escapes
                                  #     - must \-escape "
                                  #  - VAR[NUM]
$${...}                           #Escape ${...}

PROGRAM.variables.KEY             #EXPR

GLOBALS                           #Variables available with EXPR

{ fn::FUNC: ARG[_ARR] }           #"Built-in function". To use in EXPR, substituted by its return value
                                  #ARG usually allows EXPR
fn::toBase64(STR)->STR            #
fn::fromBase64(STR)->STR          #
fn::toJSON(VAL)->STR              #
fn::join('DELIM', ARR)->STR       #Like ARR.join('DELIM')
fn::split('DELIM', STR)->ARR      #Like STR.split('DELIM')
fn::select(NUM, ARR)->VAL         #ARR[NUM] (0-based)

fn::readFile('PATH')->'CONTENT'   #'PATH' can start with ../

fn::invoke(OBJ)->STR              #Call a package FUNC. OBJ:
                                  #  - function STR
                                  #  - arguments.ARG EXPR
                                  #  - options IOPTS
IOPTS.parent                      #EXPR
NIOPTS.parent                     #NRESOURCE
IOPTS.provider                    #EXPR
NIOPTS.provider                   #NPRESOURCE
[N]IOPTS.version                  #STR
[N]IOPTS.pluginDownloadURL        #STR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            ASSETS             :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


NPULUMI.asset                     #NASSETM

ASSET                             #File

fn::stringAsset('CONTENT')
new NASSETM
 .StringAsset([PROMISE_]'CONTENT')#[N]STRING_ASSET. Child of ASSET
NSTRING_ASSET.text                #PROMISE_'CONTENT'

fn::fileAsset('PATH')
new NASSETM
 .FileAsset([PROMISE_]'PATH')     #[N]FILE_ASSET. Child of ASSET
NFILE_ASSET.path                  #PROMISE_'PATH'

fn::remoteAsset('URI')
new NASSETM                       #[N]REMOTE_ASSET. Child of ASSET
 .RemoteAsset([PROMISE_]'URI')    #Can use HTTP[S] or file:
NREMOTE_ASSET.uri                 #PROMISE_'URI'

ARCHIVE                           #Collection of ASSETs|ARCHIVEs

fn::assetArchive(ASSETS)
new NASSETM
 .AssetArchive([PROMISE_]NASSETS) #[N]ASSET_ARCHIVE. Child of ARCHIVE
[N]ASSETS                         #OBJ: KEY [N]ASSET|[N]ARCHIVE
NARCHIVE.assets                   #PROMISE_NASSETS

fn::fileArchive('PATH')
new NASSETM                       #[N]FILE_ARCHIVE. Child of ARCHIVE
 .FileArchive([PROMISE_]'PATH')   #Either 'DIR' or PATH to *.tar|tgz|tar.gz|zip|jar
NFILE_ARCHIVE.path                #PROMISE_'PATH'

fn::remoteArchive('URI')
new NASSETM                       #[N]REMOTE_ARCHIVE. Child of ARCHIVE
 .RemoteArchive([PROMISE_]'URI')  #Must be *.tar|tgz|tar.gz|zip|jar
NREMOTE_ARCHIVE.uri               #PROMISE_'URI'


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:           RESOURCES           :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


PROGRAM.resources.KEY             #RESOURCE
RESOURCE.type                     #'RTYPE'
RESOURCE.defaultProvider          #BOOL
RESOURCE.properties.KEY           #EXPR

RESOURCE.options                  #ROPTS
NCROPTS                           #Child of NROPTS
NKROPTS                           #Child of NROPTS
mergeOptions(N*ROPTS, N*ROPTS2)
 ->N*ROPTS3                       #

[N]ROPTS.customTimeouts.METHOD    #'NUMs|m|d'
                                  #METHOD is create|update|delete
[NC]ROPTS.deleteBeforeReplace     #BOOL
NROPTS.deletedWith                #NRESOURCE
ROPTS.dependsOn                   #EXPR_ARR
NROPTS.dependsOn                  #RESOURCE_INPUT[_ARR_INPUT]
[N]ROPTS.ignoreChanges            #STR_ARR
[NC]ROPTS.import                  #STR
ROPTS.parent                      #EXPR
NROPTS.parent                     #NRESOURCE
[N]ROPTS.protect                  #BOOL
ROPTS.provider                    #EXPR
NROPTS.provider                   #NPRESOURCE
[NK]ROPTS.providers.KEY           #EXPR
[N]ROPTS.version                  #STR
[N]ROPTS.pluginDownloadURL        #STR
[N]ROPTS.replaceOnChanges         #STR_ARR
[N]ROPTS.retainOnDelete           #BOOL

ROPTS.aliases                     #STR_ARR
NROPTS.aliases                    #ARR of 'URN'_INPUT|NALIAS_INPUT
NALIAS.name                       #'RESOURCE'_INPUT
NALIAS.parent                     #NRESOURCE or 'URN'_INPUT
NALIAS.project                    #'PROJECT'_INPUT
NALIAS.stack                      #'STACK'_INPUT
NALIAS.type                       #STR_INPUT

NROPTS.transformations            #NTFUNC_ARR
NTFUNC                            #FUNC(NTARGS)[->NTRESULT]
NTARGS.name                       #'RESOURCE'
NTARGS|NTRESULT.opts              #NROPTS
NTARGS|NTRESULT.props             #INPUTS
NTARGS.resource                   #NRESOURCE
NTARGS.type                       #'RTYPE'

NROPTS.id                         #STR_INPUT
NROPTS.urn                        #'URN'

RESOURCE.get                      #GETTER
GETTER.id                         #STR
GETTER.state.KEY                  #EXPR

new NPULUMI.Resource('RTYPE',
 'RESOURCE', BOOL, INPUTS,
 NROPTS, BOOL2, BOOL3)            #NRESOURCE
NRESOURCE.urn                     #'URN'_OUTPUT

new NPULUMI.ComponentResource
 ('TYPE', 'RESOURCE', INPUTS,
 NKROPTS, BOOL2)                  #NKRESOURCE. Child of NRESOURCE
NKRESOURCE.getData()->PROMISE_VAL #
NKRESOURCE.initialize(INPUTS)
 ->PROMISE_VAL                    #
NKRESOURCE.registerOutputs
([INPUTS_OUTPUT|[PROMISE_]INPUTS])#

new NPULUMI.CustomResource
 ('RTYPE', 'RESOURCE'[, INPUTS],
 NCROPTS, BOOL3)                  #NCRESOURCE. Child of NRESOURCE
NCRESOURCE.id                     #STR_OUTPUT

new NPULUMI.DependencyResource
 ('URN')                          #NDRESOURCE. Child of NCRESOURCE

NRESOURCE.getProvider(STR)
 ->NPRESOURCE                     #
new NPULUMI.ProviderResource
 ('PACKAGE', 'RESOURCE'[, INPUTS],
 NROPTS, BOOL3)                   #NPRESOURCE. Child of NCRESOURCE
NPULUMI.ProviderResource
 .register([NPRESOURCE])
 ->PROMISE[_STR]                  #

new NPULUMI
 .DependencyProviderResource(STR) #NDPRESOURCE. Child of NPRESOURCE

new NPULUMI.StackReference        #NSRESOURCE. Child of NCRESOURCE
 ('RESOURCE'[, OBJ][, NCROPTS])   #OBJ: name 'STACK'_INPUT
NSRESOURCE.name                   #'STACK'_OUTPUT
NSRESOURCE.outputs                #OBJ_OUTPUT
NSRESOURCE.getOutput
 ('STACK'_INPUT)->OUTPUT          #
NSRESOURCE.getOutputValue
 ('STACK')->PROMISE_VAL           #
NSRESOURCE.getOutputDetails
 ('STACK')->PROMISE_OBJ           #OBJ: value VAL, secretValue VAL
NSRESOURCE.requireOutput
 ('STACK'_INPUT)->OUTPUT          #
NSRESOURCE.requireOutputValue
 ('STACK')->PROMISE_VAL           #

rootStackResource                 #NRESOURCE

new ResourceError
 ('MESSAGE'[, NRESOURCE][, BOOL]) #NRERROR. Child of ERROR
NRERROR.resource                  #NRESOURCE
NRERROR.hideStack                 #BOOL

new RunError('MESSAGE')           #ERROR

createUrn
 ('RESOURCE'_INPUT, 'RTYPE'_INPUT,
 'URN'_INPUT|NRESOURCE, 'PROJECT',
 'STACK')->'URN'_OUTPUT           #


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:        INPUTS OUTPUTS         :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


PROGRAM.outputs.KEY               #EXPR

INPUTS.KEY                        #INPUT
INPUT                             #[PROMISE_]VAL or OUTPUT_INSTANCE

OUTPUT_INSTANCE                   #Wraps a VAL
OUTPUT_INSTANCE.get()->VAL
OUTPUT_INSTANCE.apply
 (FUNC(VAL)
 ->PROMISE_[OUTPUT_INSTANCE_]VAL2)
 ->OUTPUT                         #

OUTPUT                            #Child of OUTPUT_INSTANCE, but every OBJ|ARR is an OUTPUT, deeply
                                  #Wraps a VAL

output(INPUT)->OUTPUT             #
Output.create(INPUT)->OUTPUT      #

all(INPUT_ARR)->ARR_OUTPUT
allAliases(INPUT_ARR, STR,
 'RTYPE', NRESOURCE, STR)
 ->'URN'_OUTPUT_ARR               #Same with INPUT of 'URN'|ALIAS

concat(INPUT_ARR)->STR_OUTPUT     #
interpolate`...${INPUT}...`       #Same as concat() but as a `...`

jsonParse(...)
jsonStringify(...)                #Like JSON.parse|stringify(...) but using INPUTS|OUTPUTS

NPULUMI.iterable.groupBy
 (INPUT_ARR_INPUT, FUNC(VAL)
 ->[, STR_INPUT, VAL_INPUT]_INPUT)
 ->OBJ_OUTPUT                     #OBJ values are ARR

NPULUMI.iterable.toObject(...)    #Same args as groupBy()
                                  #OBJ values are not ARR

NSTACK.outputs()
 ->PROMISE_NOUTPUT_MAP            #
NOUTPUT_MAP.KEY                   #NOUTPUT_VAL
NOUTPUT_VAL.value                 #STR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             MISC              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


isGrpcError(ERROR)->BOOL          #
isUnknown(VAL)->BOOL              #
containsUnknowns(VAL)->BOOL       #

getOrganization()->'ORG'          #

getProject()->'PROJECT'           #
GLOBALS.pulumi.project            #'PROJECT'

getStack()->'STACK'               #
GLOBALS.pulumi.stack              #'STACK'

pulumi ... --cwd|-C               #
GLOBALS.pulumi.cwd                #'DIR' (def: '.')


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:           PROVIDER            :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


NPULUMI.provider.main
 (NPROVIDER, STR_ARR)->PROMISE    #

NPROVIDER.check                   #FUNC('URN', IVAL, IVAL2)->PROMISE_OBJ:
                                  #  - inputs IVAL3
                                  #  - failures OBJ_ARR:
                                  #     - property STR
                                  #     - reason STR
NPROVIDER.create                  #FUNC('URN', IVAL)->PROMISE_OBJ:
                                  #  - id 'ID'
                                  #  - outs OVAL
NPROVIDER.delete                  #FUNC('ID', 'URN', OVAL)->PROMISE
NPROVIDER.diff                    #FUNC('ID', 'URN', OVAL, IVAL)->PROMISE_OBJ:
                                  #  - changes BOOL
                                  #  - deleteBeforeReplace BOOL
                                  #  - replaces STR_ARR
                                  #  - stables STR_ARR
NPROVIDER.read                    #FUNC('ID', 'URN'[, OVAL])->PROMISE_OBJ
                                  #  - id 'ID'
                                  #  - props OVAL
NPROVIDER.update                  #FUNC('ID', 'URN', OVAL, IVAL)->PROMISE_OBJ
                                  #  - outs OVAL

NPROVIDER.construct               #FUNC(STR, 'RTYPE', INPUTS, NKROPTS)->PROMISE_OBJ:
                                  #  - urn 'URN'_INPUT
                                  #  - state INPUTS
NPROVIDER.call                    #FUNC('TOKEN', INPUTS)->PROMISE_OBJ:
                                  #  - outputs OVAL
                                  #  - failures OBJ_ARR:
                                  #     - property STR
                                  #     - reason STR
NPROVIDER.invoke                  #FUNC('TOKEN', IVAL)->PROMISE_OBJ (same return value as call())

NPROVIDER.schema                  #'JSON'
NPROVIDER.version                 #'VERSION'

new NPULUMI.dynamic.Resource
 (NDPROVIDER, 'RESOURCE', INPUTS,
 NCROPTS, 'MODULE', 'RTYPE')      #NDRESOURCE. Child of NCRESOURCE

NDPROVIDER                        #Like NPROVIDER except:
                                  #  - only check|create|delete|diff|read|update
                                  #  - IVAL|OVAL -> INPUTS|OUTPUTS
                                  #  - no 'URN'


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:              LOG              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


NPULUMI.log.LEVEL('MESSAGE'
 [, NRESOURCE][, NUM][, BOOL])
 ->PROMISE                        #
NPULUMI.log.hasErrors()->BOOL     #


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            PROJECT            :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


PFILE                             #Pulumi.yaml

NWOPTS.projectSettings            #NPFILE
NWORKSPACE.saveProjectSettings
 (NPFILE)->PROMISE                #
NWORKSPACE.projectSettings()
 ->PROMISE_NPFILE                 #

[N]PFILE.name                     #'PROJECT'
pulumi new --name|-n              #'PROJECT' (def: prompted)
[N]PFILE.description              #STR
pulumi new --description|-d       #PROJECT.description (def: prompted)

[N]PFILE.runtime                  #Either [N]RUNTIME or [N]RUNTIME.name
[N]RUNTIME.name                   #'RUNTIME', i.e. 'nodejs|go|python|dotnet|java|yaml'
[N]RUNTIME.options                #[N]RUNTIME_OPTS
[N]RUNTIME_OPTS.typescript        #BOOL. Whether to use ts-node
                                  #Only with 'nodejs'
[N]RUNTIME_OPTS.nodeargs          #'--FLAG' passed to node
                                  #Only with 'nodejs'
[N]RUNTIME_OPTS.buildTarget       #'DIR' where to run 'go build'
                                  #Def: temp DIR
                                  #Only with 'go'
[N]RUNTIME_OPTS.binary            #'PATH' to binary
                                  #Only with 'go|dotnet|java'
[N]RUNTIME_OPTS.compiler          #Only with 'yaml'
[N]RUNTIME_OPTS.virtualenv        #'DIR' where python binary is
ENVVAR PULUMI_PYTHON_CMD          #Only with 'python'

NPFILE.config                     #STR
PFILE.config.KEY                  #VAL|SCHEMAVAL
SCHEMAVAL.type                    #'string|boolean|integer|array'
SCHEMAVAL.description             #STR
SCHEMAVAL.default                 #VAL
SCHEMAVAL.items                   #SCHEMAVAL_ARR

[N]PFILE.backend.url              #'BACKEND' among:
ENVVAR PULUMI_BACKEND_URL         #  - 's3://BUCKET' (AWS S3)
                                  #  - 'gs://BUCKET' (GCP GCS)
                                  #  - 'azblob://BUCKET' (Azure Blob)

[N]PFILE.main                     #'DIR' of PROGRAM
                                  #Def: '.'
PFILE.stackConfigDir              #'DIR'
PFILE.options.refresh             #undefined|'always'

NPFILE.author                     #STR
NPFILE.license                    #STR
NPFILE.website                    #STR

[N]PFILE.template                 #[N]PROJECT_TEMPLATE
[N]PROJECT_TEMPLATE.description   #STR
NPROJECT_TEMPLATE.important       #BOOL
NPROJECT_TEMPLATE.quickstart      #STR

[N]PROJECT_TEMPLATE.config.KEY    #[N]PROJECT_TEMPLATE_VAL
[N]PROJECT_TEMPLATE_VAL.default   #STR
[N]PROJECT_TEMPLATE_VAL
 .description                     #STR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            PLUGIN             :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


NWORKSPACE.installPlugin
 ('PLUGIN', 'VERSION', 'KIND')
 ->PROMISE                        #
NWORKSPACE.installPluginFromServer
 ('PLUGIN', 'VERSION', 'SERVER')
 ->PROMISE                        #
NWORKSPACE.listPlugins()
 ->NPLUGIN_INFO_ARR               #
NWORKSPACE.removePlugin('PLUGIN',
 'VERSION_RANGE', 'KIND')
 ->PROMISE                        #

PFILE.plugins.KINDs               #PLUGIN_INFO
                                  #KIND is NPLUGIN_INFO.kind

PLUGIN_INFO.kind                  #'analyzer|language|resource'
[N]PLUGIN_INFO.name               #'PLUGIN'
[N]PLUGIN_INFO.path               #'DIR'
[N]PLUGIN_INFO.version            #'VERSION'
NPLUGIN_INFO.serverURL            #'URL'
NPLUGIN_INFO.size                 #NUM
NPLUGIN_INFO.installTime          #DATE
NPLUGIN_INFO.lastUsedTime         #DATE


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:           WORKSPACE           :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


NPULUMI.automation                #NAUTO

NAUTO.LocalWorkspace
 .create([NWOPTS])
 ->PROMISE_NWORKSPACE             #

NAUTO.LocalWorkspace
 .create|select|createOrSelect
 (L|IPROGRAM_ARGS[, NWOPTS])
 ->PROMISE_NSTACK                 #
LPROGRAM_ARGS|IPROGRAM_ARGS
 .stackName                       #'STACK'
IPROGRAM_ARGS.projectName         #'PROJECT'

NAUTO.Stack
 .create|select|createOrSelect
 ('STACK', NWORKSPACE)
 ->PROMISE_NSTACK2                #

NWORKSPACE.createStack('STACK')
 ->PROMISE                        #
NWORKSPACE.selectStack('STACK')
 ->PROMISE                        #
NWORKSPACE.removeStack('STACK')
 ->PROMISE                        #

NWORKSPACE
 .export*|import*|*Config*|*Tag*
 ('STACK', ...)                   #Same as NSTACK.exportStack|...(...)
NWORKSPACE.stackOutputs('STACK')  #Same as NSTACK.outputs()

NWORKSPACE.listStacks()
 ->PROMISE_NSTACK_SUMMARY_ARR     #
NWORKSPACE.stack()
 ->PROMISE[_NSTACK_SUMMARY]       #

NSTACK_SUMMARY.current            #BOOL
NSTACK_SUMMARY.lastUpdate         #STR
NSTACK_SUMMARY.name               #'STACK'
NSTACK_SUMMARY.resourceCount      #NUM
NSTACK_SUMMARY.updateInProgress   #BOOL
NSTACK_SUMMARY.url                #'URL'

NWOPTS.stackSettings              #NSTACK_SETTINGS
NWORKSPACE.saveStackSettings
 ('STACK', NSTACK_SETTINGS)
 ->PROMISE                        #
NWORKSPACE.stackSettings()
 ->PROMISE_NSTACK_SETTINGS        #

NSTACK_SETTINGS.config.KEY        #STR|NSTACK_SETTINGS_VAL
NSTACK_SETTINGS_VAL.secure        #STR

NSTACK_SETTINGS.encryptedKey      #STR
NSTACK_SETTINGS.encryptionSalt    #STR

version                           #STR
NWORKSPACE.pulumiVersion          #STR

NWOPTS|NWORKSPACE.pulumiHome      #'DIR' where to store plugins, workspaces, templates, credentials.
ENVVAR PULUMI_HOME                #Def: ~/.pulumi

LPROGRAM_ARGS|NWOPTS|NWORKSPACE
 .workDir                         #'DIR'
NWOPTS|NWORKSPACE.envVars         #OBJ
IPROGRAM_ARGS|NWOPTS|NWORKSPACE
 |SOPTS.program                   #FUNC()->PROMISE[_OBJ]

NWORKSPACE.postCommandCallback    #FUNC('STACK')->PROMISE
NWORKSPACE.serializeArgsForOp     #FUNC('STACK')->PROMISE_STR_ARR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            SECRETS            :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


SECRETS_PROVIDER                  #One of:
                                  #  - 'default': Pulumi Cloud
                                  #  - 'passphrase': local prompt
                                  #  - 'awskms://...?region=REGION'
                                  #  - 'gcpkms://...'
                                  #  - 'azurekeyvault://...'
                                  #  - 'hashivault://...'

NWOPTS|NWORKSPACE|NSTACK_SETTINGS
 .secretsProvider                 #'SECRETS_PROVIDER'
pulumi new|stack init             #'SECRETS_PROVIDER'
 |stack select|up|watch           #Def:
--secrets-provider                #  - 'default' if using Pulumi Cloud
                                  #  - 'passphrase' otherwise
pulumi stack
 change-secrets-provider
 SECRETS_PROVIDER                 #

XDEPLOYMENT.secrets_providers     #XSPROVIDERS
XSPROVIDERS.type                  #STR
XSPROVIDERS.state                 #XSPROVIDERS_STATE
XSPROVIDERS_STATE.url             #'URL'
XSPROVIDERS_STATE.owner           #STR
XSPROVIDERS_STATE.project         #'PROJECT'
XSPROVIDERS_STATE.stack           #'STACK'

ENVVAR PULUMI_CONFIG_PASSPHRASE   #STR
ENVVAR PULUMI_CONFIG_
 PASSPHRASE_FILE                  #Like PULUMI_CONFIG_PASSPHRASE but as 'PATH'

pulumi config|stack
--show-secrets
SOPTS.showSecrets                 #BOOL. Do not hide secrets

NCONFIG.getSecret*(...)[->OUTPUT] #Same as NCONFIG.get*(...) but returns an OUTPUT

isSecret(OUTPUT)->PROMISE_BOOL    #
secret(INPUT)->OUTPUT             #
unsecret(OUTPUT)->OUTPUT2         #

fn::secret(STR)->STR              #

[NC]ROPTS.additionalSecretOutputs #STR_ARR
NSRESOURCE.secretOutputNames      #STR_ARR_OUTPUT

PCONFIG|NCONFIG_VAL|NOUTPUT_VAL
 |SCHEMAVAL
 |[N]PROJECT_TEMPLATE_VAL.secret  #BOOL

XWEBHOOK.secret                   #STR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             STACK             :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


Pulumi.STACK.yaml                 #STACK config

NAUTO.Stack                       #NSTACK
NSTACK.name                       #'NSTACK'
NSTACK.workspace                  #NWORKSPACE

NSTACK.destroy([SOPTS])
 ->PROMISE_NDRESULT               #SOPTS: no diff|expectNoChanges|plan|policyPacks|policyPackConfigs|program|replace
NSTACK.refresh([SOPTS])
 ->PROMISE_NDRESULT               #SOPTS: no diff|plan|policyPacks|policyPackConfigs|program|replace|targetDependents
NSTACK.preview([SOPTS])
 ->PROMISE_NURESULT               #SOPTS: no policyPacks|showSecrets
NSTACK.up([SOPTS])
 ->PROMISE_NURESULT               #SOPTS: no showSecrets
NSTACK.cancel()->PROMISE          #

NDRESULT|NURESULT.stdout|stderr   #STR

SOPTS.color                       #'always|never|raw|auto'
SOPTS.debug                       #BOOL
SOPTS.message                     #STR
SOPTS.onEvent                     #FUNC(ENGINE_EVENT)
SOPTS.onOutput                    #FUNC(STR)
SOPTS.parallel                    #NUM
SOPTS.target                      #STR_ARR
SOPTS.targetDependents            #BOOL
SOPTS.userAgent                   #STR
SOPTS.diff                        #BOOL
SOPTS.expectNoChanges             #BOOL
SOPTS.plan                        #STR
SOPTS.policyPackConfigs           #STR_ARR
SOPTS.policyPacks                 #STR_ARR
SOPTS.replace                     #STR_ARR

pulumi ... --logflow
SOPTS.logFlow                     #BOOL
pulumi ... --logtostderr
SOPTS.logToStdErr                 #BOOL. Log to stderr instead of to files
pulumi ... --verbose|-v
SOPTS.logVerbosity                #NUM. Verbose logging

pulumi ... --tracing
SOPTS.tracing                     #'URI' (including file: URI) where to send traces

NSTACK.exportStack()
 ->PROMISE_NDEPLOYMENT            #
NSTACK.importStack(NDEPLOYMENT)
 ->PROMISE                        #

NDEPLOYMENT.deployment            #VAL
NDEPLOYMENT.version               #NUM

NDRESULT.summary                  #NUPDATE_SUMMARY
NSTACK.history
 ([NUM[, NUM2[, BOOL]]])
 ->PROMISE_NUPDATE_SUMMARY_ARR    #
NSTACK.info([BOOL])
 ->PROMISE[_NUPDATE_SUMMARY]      #

NUPDATE_SUMMARY.Deployment        #'JSON'
NUPDATE_SUMMARY.startTime|endTime #DATE
NUPDATE_SUMMARY.environment.ENVVAR#'VAL'
NUPDATE_SUMMARY.kind              #'update|preview|refresh|rename|destroy|import'
NUPDATE_SUMMARY.message           #STR
NUPDATE_SUMMARY.result            #'not-started|in-progress|succeeded|failed'
NUPDATE_SUMMARY.version           #NUM

NUPDATE_SUMMARY.resourceChanges   #OP_MAP
NURESULT.changeSummary            #OP_MAP
OP_MAP.OP_TYPE                    #NUM

NAUTO.fullyQualifiedStackName
 ('ORG', 'PROJECT', 'STACK')->STR #


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:       REMOTE WORKSPACE        :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


NAUTO.RemoteWorkspace             #OPTS:
 .create|select|createOrSelect    #  - envVars.ENVVAR STR or { secret STR }
 (RGIT[, OPTS])->PROMISE_NRSTACK  #  - preRunCommands STR_ARR
                                  #  - skipInstallDependencies BOOL (def: false)
RGIT.branch                       #STR
RGIT.commitHash                   #STR
RGIT.projectPath                  #STR
RGIT.stackName                    #'STACK'
RGIT.url                          #'URL'
RGIT.auth                         #RGIT_AUTH
RGIT_AUTH.username                #STR
RGIT_AUTH.password                #STR
RGIT_AUTH.personalAccessToken     #STR
RGIT_AUTH.sshPrivateKey           #STR
RGIT_AUTH.sshPrivateKeyPath       #'PATH'

NRSTACK                           #Like NSTACK except:
                                  #  - no workspace
                                  #  - no create|select|createOrSelect()
                                  #  - no last BOOL arg in history()
                                  #  - SOPTS: only onEvent|onOutput()


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             STACK             :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


STACKS_URL                        #API_URL/stacks
USER_STACKS_URL                   #API_URL/user/stacks
STACK_URL                         #STACKS_URL/ORG/PROJECT/STACK

GET STACK_URL                     #Req: empty
                                  #Res: XSTACK
GET USER_STACKS_URL               #Req: empty
                                  #Res: OBJ: stacks XSTACK_SHORT_ARR
GET STACK_URL/export              #Req: empty
                                  #Res: XSTACK_STATE
POST STACK_URL/transfer           #Req: 'ORG'
                                  #Res: empty
DELETE STACK_URL                  #Req: OBJ
                                  #  - force BOOL
                                  #Res: empty

XSTACK[_SHORT].orgName            #'ORG'
XSTACK[_SHORT].projectName        #'PROJECT'
XSTACK[_SHORT].stackName          #'STACK'
XSTACK_SHORT.lastUpdate           #DATE_NUM
XSTACK.activeUpdate               #'UUID'
XSTACK_SHORT.resourceCount        #NUM
XSTACK.version                    #NUM

XSTACK.currentOperation           #XCUR_OP
XCUR_OP.kind                      #STR
XCUR_OP.author                    #STR
XCUR_OP.started                   #DATE_NUM

XSTACK_STATE.version              #NUM
XSTACK_STATE.deployment           #XDEPLOYMENT

XDEPLOYMENT.manifest              #XMANIFEST
XMANIFEST.time                    #'DATE'
XMANIFEST.magic                   #'HEX'
XMANIFEST.version                 #'xX.Y.Z'

XDEPLOYMENT.resources             #XRESOURCE_ARR
XRESOURCE.urn                     #'URN'
XRESOURCE.id                      #'UUID'
XRESOURCE.type                    #STR
XRESOURCE.custom                  #BOOL
XRESOURCE.inputs.KEY              #VAL
XRESOURCE.outputs.KEY             #VAL
XRESOURCE.parent                  #'URN'
XRESOURCE.provider                #'URN'
XRESOURCE.propertyDependencies    #OBJ


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             TAGS              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


TAGS_URL                          #STACK_URL/tags

POST TAGS_URL                     #Req: XTAGS
                                  #Res: empty
DELETE TAGS_URL/TAG               #Req: empty
                                  #Res: empty

XTAGS.name                        #'TAG'
XTAGS.value                       #STR

XSTACK.tags.TAG                   #STR

NSTACK.getTag(STR)->PROMISE_STR   #
NSTACK.setTag(STR, STR2)->PROMISE #
NSTACK.removeTag(STR)->PROMISE    #
NSTACK.listTags()->PROMISE_OBJ    #


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            UPDATES            :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


UPDATES_URL                       #STACK_URL/updates

GET UPDATES_URL/UPDATE_ID         #Req: empty
                                  #Res: OBJ:
                                  #  - status STR
                                  #  - events XEVENT_ARR
GET UPDATES_URL                   #Req: OBJ
                                  #  - output-type 'service' or 'cli' (def)
                                  #Res: updates XUPDATE_ARR
GET UPDATES_URL/latest/previews   #Req: empty
                                  #Res: updates XUPDATE_ARR
GET UPDATES_URL/UPDATE_ID/events  #Req: empty
                                  #Res: events XEVENT_ARR

XUPDATE.updateID                  #'UPDATE_ID'
XUPDATE.version                   #NUM
XUPDATE.latestVersion             #NUM

XUPDATE.info                      #XINFO
XINFO.kind                        #STR
XINFO.start|endTime               #DATE_NUM
XINFO.message                     #STR
XINFO.environment                 #OBJ
XINFO.config.KEY                  #OBJ
XINFO.result                      #STR
XINFO.version                     #NUM
XINFO.resourceChanges.KEY         #NUM

XUPDATE.githubCommitInfo          #XGITINFO
XGITINFO.slug                     #'USER/REPO'
XGITINFO.sha                      #'COMMIT_HASH'
XGITINFO.url                      #'URL' to commit

XGITINFO.author                   #XUSER
XUPDATE.requestedBy               #XUSER

XUPDATE.policyPacks               #XPOLICYPACK_ARR
XPOLICYPACK.name                  #STR
XPOLICYPACK.displayName           #STR
XPOLICYPACK.version               #NUM
XPOLICYPACK.versionTag            #STR
XPOLICYPACK.config                #OBJ

XEVENT.timestamp                  #DATE_NUM
XEVENT.type                       #'EVENT_TYPE'
XEVENT.EVENT_TYPE                 #OBJ


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:         ORGANIZATION          :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


ORG_URL                           #API_URL/orgs/ORG

pulumi org set-default ORG        #Set default ORG for current BACKEND
pulumi org get-default            #Print default ORG for current BACKEND


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             USER              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


MEMBERS_URL                       #ORG_URL/members

GET MEMBERS_URL                   #Req: OBJ
                                  #  - type 'backend'
                                  #Res: members XMEMBER_ARR
POST MEMBERS_URL/USER             #Req: XMEMBER
                                  #  - only role
                                  #Res: empty
PATCH MEMBERS_URL/USER            #Req: XMEMBER
                                  #  - only role
                                  #Res: empty
DELETE MEMBERS_URL/USER           #Req: empty
                                  #Res: empty

XMEMBER.role                      #'admin|member'
XMEMBER.knownToPulumi             #BOOL
XMEMBER.virtualAdmin              #BOOL

XMEMBER.user                      #XUSER
XUSER.name                        #'USER'
XUSER.githubLogin                 #STR
XUSER.avatarUrl                   #'URL'
XUSER.email                       #'EMAIL'

pulumi whoami                     #Prints current 'USER'
NWORKSPACE.whoAmI()->PROMISE_NWHO #
NWHO.organizations                #'ORG'_ARR
NWHO.url                          #'URL'
NWHO.user                         #'USER'


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             TEAM              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


TEAMS_URL                         #ORG_URL/teams

GET TEAMS_URL                     #Req: empty
                                  #Res: teams XTEAM_ARR
POST TEAMS_URL/TEAM_KIND          #Req: XTEAM
                                  #  - not kind|userRole
                                  #Res: XTEAM
PATCH TEAMS_URL/TEAM              #Req: OBJ
                                  #  - memberAction 'add|remove'
                                  #  - member 'USER'
                                  #Res: empty
PATCH TEAMS_URL/TEAM              #Req: OBJ:
                                  #  - addStackPermission|removeStack OBJ
                                  #     - projectName 'PROJECT'
                                  #     - stackName 'STACK'
                                  #     - permission 101 (read), 102 (edit) or 103 (admin)
                                  #Res: empty
DELETE TEAMS_URL/TEAM             #Req: empty
                                  #Res: empty

XTEAM.kind                        #TEAM_KIND. Either 'pulumi' or 'github'
XTEAM.name                        #'TEAM'
XTEAM.displayName                 #STR
XTEAM.description                 #STR
XTEAM.userRole                    #STR
XTEAM.members                     #XUSER_ARR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:             AUTH              :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


pulumi login [URL]                #Login
                                  #Prompt for ENVVAR PULUMI_ACCESS_TOKEN if not present
                                  #Cache credentials locally
                                  #URL is for either:
                                  #  - default: Pulumi Cloud
                                  #  - self-hosted REST API
                                  #  - 'BACKEND'
                                  #  - local, using file://PATH
                                  #     - stores under PATH/.pulumi
--default-org                     #'ORG'
--insecure                        #No SSL

pulumi login|logout
--local                           #Same as using URL file://~
--cloud-url                       #'URL'

pulumi logout [URL]               #Logout
                                  #Def URL: current backend
--all                             #Logout of all backends

TOKENS_URL                        #API_URL/user/tokens

GET TOKENS_URL                    #Req: empty
                                  #Res: tokens XTOKEN_ARR
POST TOKENS_URL                   #Req: XTOKEN
                                  #  - only description
                                  #Res: XTOKEN
DELETE TOKENS_URL/TOKEN_ID        #Req: empty
                                  #Res: empty

XTOKEN.id                         #'TOKEN_ID'
XTOKEN.description                #STR
XTOKEN.lastUsed                   #DATE_NUM
XTOKEN.tokenValue                 #'ACCESS_TOKEN'

Authorization:
 token ACCESS_TOKEN [C]           #
ENVVAR PULUMI_ACCESS_TOKEN        #'ACCESS_TOKEN'


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:           WEBHOOKS            :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


WEBHOOKS_URL                      #ORGS_URL/ORG/hooks

POST WEBHOOKS_URL                 #Req: XWEBHOOK
                                  #Res: XWEBHOOK
GET WEBHOOKS_URL/WEBHOOK          #Req: empty
                                  #Res: XWEBHOOK
GET WEBHOOKS_URL                  #Req: empty
                                  #Res: XWEBHOOK_ARR

XWEBHOOK.name                     #'WEBHOOK'
XWEBHOOK.displayName              #STR
XWEBHOOK.organizationName         #'ORG'
XWEBHOOK.payloadUrl               #'URL'
XWEBHOOK.active                   #BOOL

GET WEBHOOKS_URL/WEBHOK/deliveries#Req: empty
                                  #Res: XWEBHOOK_RES_ARR
POST WEBHOOKS_URL/WEBHOOK/ping    #Req: empty
                                  #Res: XWEBHOOK_RES

XWEBHOOK_RES.id                   #'UUID'
XWEBHOOK_RES.kind                 #STR
XWEBHOOK_RES.payload              #'JSON_OBJ'
XWEBHOOK_RES.requestHeaders       #'VAR: VAL\r\n...'
XWEBHOOK_RES.responseCode         #NUM
XWEBHOOK_RES.responseHeaders      #'VAR: VAL\r\n...'
XWEBHOOK_RES.responseBody         #STR


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:          AUDIT LOGS           :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


AUDIT_LOGS_URL                    #ORG_URL/auditlogs

GET AUDIT_LOGS_URL                #Req: OBJ
                                  #  - startTime DATE_NUM
                                  #  - userFilter 'USER'
                                  #Res: auditLogEvents XAUDIT_LOG_ARR
GET AUDIT_LOGS_URL/export         #Req: OBJ:
                                  #  - startTime|userFilter: like above
                                  #  - format 'csv' (def) or 'cef'
                                  #Res: auditLogEvents XAUDIT_LOG_ARR, but as CSV|CEF

XAUDIT_LOG.timestamp              #DATE_TIME
XAUDIT_LOG.sourceIP               #'IP'
XAUDIT_LOG.event                  #'MESSAGE'
XAUDIT_LOG.description            #STR
XAUDIT_LOG.user                   #XUSER


                                             /=+===============================+=\
                                            /  :                               :  \
                                            )==:            SEARCH             :==(
                                            \  :_______________________________:  /
                                             \=+===============================+=/


RESOURCES_URL                     #ORG_URL/resources

GET RESOURCES_URL/summary         #Req: OBJ
                                  #  - granularity 'hourly|daily|weekly|monthly|yearly'
                                  #  - lookbackDays NUM
                                  #Res: summary RESOURCE_COUNT_ARR

RESOURCE_COUNT.resources          #NUM
RESOURCE_COUNT.year|month|
 weekNumber|day|hour              #NUM

SEARCH_RESOURCES_URL              #ORG_URL/search/resources

GET SEARCH_RESOURCES_URL          #Req: XSEARCH_RESOURCE_REQ
                                  #Res: XRESOURCES_INFO
GET SEARCH_RESOURCES_URL/export   #Req: XSEARCH_RESOURCE_REQ
                                  #  - no facet
                                  #Res: XRESOURCE_ARR, as CSV

XSEARCH_RESOURCE_REQ.query        #STR
XSEARCH_RESOURCE_REQ.sort         #'VARR'_ARR
XSEARCH_RESOURCE_REQ.asc          #BOOL

XRESOURCES_INFO.resources         #XRESOURCE_ARR

XSEARCH_RESOURCE_REQ.facet        #'VARR'_ARR
XRESOURCES_INFO.aggregations      #XAGGR
XAGGR.results                     #XAGGR_RESULT_ARR
XAGGR_RESULT.name                 #STR
XAGGR_RESULT.count                #NUM
XAGGR.others                      #NUM

XRESOURCE.created                 #'DATE'
XRESOURCE.modified                #'DATE'
XRESOURCE.custom                  #BOOL
XRESOURCE.delete                  #BOOL
XRESOURCE.dependencies            #'URN'_ARR
XRESOURCE.id                      #STR
XRESOURCE.module                  #STR
XRESOURCE.name                    #'RESOURCE'
XRESOURCE.package                 #'PACKAGE'
XRESOURCE.parent.urn              #'URN'
XRESOURCE.pending                 #'creating|deleting|updating|reading|importing'
XRESOURCE.project                 #'PROJECT'
XRESOURCE.protected               #BOOL
XRESOURCE.provider.urn            #'URN'
XRESOURCE.stack                   #'STACK'
XRESOURCE.type                    #'RTYPE'
XRESOURCE.urn                     #'URN'
