
            
   CDK-DIFF  
            



VERSION ==>                       #Part of cdk monorepo (see its doc)

diffTemplate
 (TEMPLATE_OBJ, TEMPLATE_OBJ2)
 ->TDIFF

TDIFF.AWSTemplateFormatVersion
 |Description|Transform           #SIMPLE_DIFF. undefined if no difference

TDIFF.Metadata|Parameters|Mappings
 |Conditions|Outputs              #OBJ_DIFF
TDIFF.unknown                     #OBJ_DIFF for unknown TEMPLATE_OBJ.*
OBJ_DIFF.changes.PROP             #SIMPLE_DIFF. undefined if no difference
OBJ_DIFF.get('PROP')->SIMPLE_DIFF #Throws if no difference
OBJ_DIFF.logicalIds               #'PROP'_ARR with differences
OBJ_DIFF.differenceCount          #NUM of different PROPs
OBJ_DIFF.forEachDifference        #Call FUNC() on each different PROP
 (FUNC('PROP', SIMPLE_DIFF))      #Ordered: isRemoval true, isAddition true, isUpdate true, isDifferent true
OBJ_DIFF.filter
 (FUNC([SIMPLE_DIFF])->BOOL)
 ->OBJ_DIFF2                      #Omit PROP if BOOL false

TDIFF.Resources                   #ALL_RES_DIFF
ALL_RES_DIFF.changes|get(...)
 |logicalIds|filter(...)          #Like OBJ_DIFF.* but using RES_DIFF instead of SIMPLE_DIFF
RES_DIFF                          #For TEMPLATE.Resources.RESOURCE
                                  #Inherits SIMPLE_DIFF
RES_DIFF.old|newResourceType      #'RESTYPE'. undefined if new|deleted RESOURCE
RES_DIFF.resourceType             #oldResourceType || newResourceType. Throws unless new|deleted RESOURCE
RES_DIFF.resourceTypeChanged      #BOOL. Whether 'RESTYPE' changed. false if new|deleted RESOURCE
RES_DIFF.changeImpact             #ENUM ResourceImpact among:
                                  #  - 'WILL_CREATE': new RESOURCE
                                  #  - 'WILL_DESTROY': deleted RESOURCE
                                  #  - 'WILL_ORPHAN': deleted RESOURCE with DeletionPolicy 'Retain'
                                  #  - 'WILL_REPLACE': replacement
                                  #  - 'MAY_REPLACE': potential replacement
                                  #  - 'WILL_UPDATE': no replacement
                                  #  - 'NO_CHANGE': no diff
                                  #Uses CloudFormation spec to know
RES_DIFF.otherChanges.PROP        #SIMPLE_DIFF. TEMPLATE.Resources.RESOURCE.PROP undefined if no difference
RES_DIFF.differenceCount          #NUM of different PROPs|RESPROPs
RES.forEachDifference
 (FUNC('Property|Other',          #Call FUNC() on each different PROP|RESPROP
 'PROP|RESPROP', SIMPLE_DIFF))    #Alphabetical order

RES_DIFF.old|newProperties        #RESPROPS_OBJ. undefined if new|deleted RESOURCE
RES_DIFF.propertyUpdates.RESPROP  #PROP_DIFF
RES_DIFF.setPropertyChange
 ('RESPROP', PROP_DIFF)           #
PROP_DIFF                         #TEMPLATE.Resources.RESOURCE.Properties.RESPROP. undefined if no difference
                                  #Inherits SIMPLE_DIFF
PROP_DIFF.changeImpact            #Same as RES_DIFF.changeImpact, but only for a RESPROP, not a RESOURCE
                                  #No 'WILL_CREATE', 'WILL_DESTROY', 'WILL_ORPHAN'

SIMPLE_DIFF.oldValue|newValue     #VAL from TEMPLATE_OBJ[2]
SIMPLE_DIFF.isDifferent           #BOOL. False when different syntax, but same semantics (e.g. null <=> undefined)
SIMPLE_DIFF
 .isAddition|isRemoval|isUpdate   #BOOL. Depending on whether oldValue|newValue undefined
