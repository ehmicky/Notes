
                                  ┏━━━━━━━━━━━━━━━━━━━┓
                                  ┃   SAM_TRANSFORM   ┃
                                  ┗━━━━━━━━━━━━━━━━━━━┛

VERSION ==>                       #1.91.0

SAM CLI ==>                       #See its doc
                                  #Does not require SAM transform: supports regular RESTYPEs
                                  #However, does support SAM transform: AWS::Serverless::* RESTYPEs
                                  #Is not required by SAM transform: since transformation happens inside CloudFormation, not locally

TEMPLATE.Transform                #Must include 'AWS::Serverless-2016-10-31'
                                  #If has 'AWS::LanguageExtensions', must be after it
                                  #  - recommended to use !RFUNCs inside SAM-specific RESPROPs
                                  #Transforms AWS::Serverless::* RESTYPEs into regular ones

TRANSFORMATION ==>                #Happens inside CloudFormation itself, not locally
                                  #I.e. any CloudFormation-related tool:
                                  #  - in order to support TEMPLATEs with SAM transform
                                  #  - must be enhanced to handle AWS::Serverless::* RESTYPEs and TEMPLATE.Globals

TEMPLATE.Globals.TYPE.RESPROPS    #OBJ. Default RESPROPs
                                  #Only for AWS::Serverless::*
                                  #OBJs are deeply merged, ARRs are prepended
                                  #Also applies to AWS::ApiGateway[V2]::* implicited created by AWS::Serverless::Function EventSource of Type 'Api'
                                  #Does not support following:
                                  #  - AWS::Serverless::[Http]Api: DefinitionBody, Description, DisableExecuteApiEndpoint, FailOnWarnings, StageName
                                  #  - AWS::Serverless::Api: AlwaysDeploy, ApiKeySourceType, MergeDefinitions, Mode, Models, Tags
                                  #  - AWS::Serverless::HttpApi: CorsConfiguration, DefaultRouteSettings, DefinitionUri, Domain, Name, RouteSettings
                                  #  - AWS::Serverless::Function: AutoPublishAliasAllProperties, AutoPublishCodeSha256, CodeSigningConfigArn, Events,
                                  #    FileSystemConfigs, FunctionName, FunctionUrlConfig, ImageConfig, ImageUri, InlineCode, LoggingConfig, PackageType,
                                  #    Policies, RecursiveLoop, Role, RolePath, RuntimeManagementConfig, SnapStart, SourceKMSKeyArn, VersionDescription
                                  #  - AWS::Serverless::StateMachine: all but PropagateTags
                                  #  - AWS::Serverless::SimpleTable: all but SSESpecification
                                  #  - AWS::Serverless::LayerVersion|GraphQLApi|Connector

{ Ref: 'SAM_RESOURCE' }           #Replaced by { Ref: 'RESOURCE' }
                                  #'SAM_RESOURCE' is an alternative to 'RESOURCE', that is human-friendlier
'RESOURCE'                        #Most AWS::Serverless::* do not have much RESATTRs
                                  #Instead must either:
                                  #  - use 'SAM_RESOURCE'
                                  #  - guess 'RESOURCE' based on known pattern
                                  #     - not possible when 'RESOURCE' has a 'RANDOM' part

RESOURCE.Metadata|DependsOn       #On AWS::Serverless::*, only applies to the generated main RESOURCE
RESOURCE.Condition|*Policy        #On AWS::Serverless::*, applies to all generated RESOURCEs

TAG 'SERVICE:createdBy:SAM'       #Added to most generated RESOURCEs

AWS::Lambda::LayerVersion         #RESOURCE.RetentionPolicy: like RESOURCE.DeletionPolicy
AWS::Lambda::Layer[Version]       #Def RESOURCE.DeletionPolicy: 'Retain'

https://github.com/aws/serverless-application-model???

                                  ┌──────────┐
                                  │   LINT   │
                                  └──────────┘

cfn-lint E3038                    #AWS::Serverless TRANSFORM must be declared if using AWS::Serverless::* RESTYPEs

                                  ┌──────────────┐
                                  │   API MAIN   │
                                  └──────────────┘

AWS::Serverless::[Http]Api      =-#Expands to API Gateway v1|v2 HTTP (not WebSocket):
                                  #  - API
                                  #  (through OSPEC)
                                  #  - RESOURCE
                                  #  - ROUTE
                                 =#  - RRESP
                                  #  - INTEGRATION
                                  #  - IRESP
                                  #  (optional)
                                  #  - STAGE
                                  #  - DEPLOYMENT
                                  #  - DNAME
                                  #  - multiple MAPPINGs
                                 =#  - multiple MODELs
                                  #  - multiple AUTHORIZERs
                                  #     - Lambda PERMISSIONs
                                  #  - CORS
                                 =#  - GRESP
                                 =#  - USAGEPLAN
                                 =#  - USAGEKEY
                                 =#  - APIKEY
                                  #Also to Route53 RECORD_SET

MISSING FEATURES ==>            =-#Requires OpenAPI specification to set most RESOURCEs
                                  #Multiple STAGEs per API, i.e. must use PARAM and instantiate STACK once per STAGE instead
                                  #Most name|description automatically generated
                                  #RESOURCE-specific TAGS
                                 =#ROUTE.requestParameters
                                 =#ROUTE.requestModels (but can set INTEGRATION.requestTemplates)
                                  #INTEGRATION.requestParameters
                                 =#RRESP.responseParameters|responseModels (but can set INTEGRATION.responseParameters|responseTemplates)
                                  #AUTHORIZER.identityValidationExpression with AUTH_TYPE 'REQUEST'
                                 =#MODEL.contentType|flatten
                                 =#DOCPART, DOCVERS
                                 =#REQVALID (but can use TRIGGER_TYPE 'Api' from AWS::Serverless::Function)
                                 -#DEPLOYMENT.autoDeploy
                                 =#API.cloneFrom
                                 -#API.target
                                  #API_IMPORT.basepath
                                 =#API_IMPORT.ignore
                                 =#CCERTIFICATE
                                  #Must be manually added: VPCLINK
                                 =#USAGEPLAN.apiStages, APIKEY.enabled|value|stageKeys|customerId
                                  #Route53 RECORD_SET.CidrRoutingConfig|Comment|Failover|Geo*
                                  #  |HealthCheckId|MultiValueAnswer|Name|ResourceRecods|TTL|Weight

                                  ┌──────────────────┐
                                  │   API REST API   │
                                  └──────────────────┘

AWS::Serverless::[Http]Api      =-#RESPROPs:
                                  #  - Name
                                 -#     - sets OINFO.title
                                  #  - Description
                                 -#     - sets OINFO.description
                                  #  - Tags OBJ
                                  #  - PropagateTags BOOL: whether Tags targets:
                                  #     - false (def): STAGE
                                  #     - true: all generated RESOURCEs, including API

                                  ┌──────────────────┐
                                  │   API PAYLOADS   │
                                  └──────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs:
                                  #  - MinimumCompressionSize
                                  #  - BinaryMediaTypes (JSON pointer encoded)
                                  #     - also sets OSPEC.x-amazon-apigateway-binary-media-types
                                  #Sets INTEGRATION|IRESP.contentHandling through RESPROP Definition*

                                  ┌──────────────────┐
                                  │   API RESOURCE   │
                                  └──────────────────┘

AWS::Serverless::[Http]Api      =-#Creates RESOURCE through RESPROP Definition*
                                 =#Includes RESATTRs: RootResourceId

                                  ┌───────────────────────┐
                                  │   API ROUTE REQUEST   │
                                  └───────────────────────┘

AWS::Serverless::[Http]Api      =-#Creates ROUTE through RESPROP Definition*

                                  ┌────────────────────────┐
                                  │   API ROUTE RESPONSE   │
                                  └────────────────────────┘

AWS::Serverless::Api             =#Creates RRESP through RESPROP Definition*

                                  ┌─────────────────────────────┐
                                  │   API INTEGRATION REQUEST   │
                                  └─────────────────────────────┘

AWS::Serverless::[Http]Api      =-#Creates INTEGRATION through RESPROP Definition*
                                  #  - except no INTEGRATION.requestParameters
                                  #Includes RESPROPs:
                                 =#  - InvokeRole: INTEGRATION.credentials except:
                                  #     - 'arn:aws:iam::*:user/*' -> 'CALLER_CREDENTIALS' (def)
                                  #     - null -> 'NONE'

                                  ┌──────────────────────────────┐
                                  │   API INTEGRATION RESPONSE   │
                                  └──────────────────────────────┘

AWS::Serverless::[Http]Api      =-#Creates IRESP through RESPROP Definition*

                                  ┌────────────────────────────┐
                                  │   API INTEGRATION LAMBDA   │
                                  └────────────────────────────┘

AWS::Serverless::[Http]Api      =-#Sets INTEGRATION.PayloadFormatVersion through RESPROP Definition*

                                  ┌─────────────┐
                                  │   API VPC   │
                                  └─────────────┘

AWS::Serverless::[Http]Api      =-#Sets INTEGRATION.connectionType|connectionId, TLSCONFIG through RESPROP Definition*

                                  ┌──────────────────────────┐
                                  │   API GATEWAY RESPONSE   │
                                  └──────────────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs: GatewayResponse OBJ
                                  #  - like OSPEC.x-amazon-apigateway-gateway-responses (also sets it)

                                  ┌───────────────┐
                                  │   API MODEL   │
                                  └───────────────┘

AWS::Serverless::Api             =#Include RESPROPs: Models.MODEL MODEL.schema

                                  ┌────────────────────┐
                                  │   API VALIDATION   │
                                  └────────────────────┘

AWS::Serverless::Api             =#Creates REQVALID through RESPROP Definition*

                                  ┌───────────────────────┐
                                  │   API AUTHORIZATION   │
                                  └───────────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Auth:
                                 =#  - Authorizers ARR or 'AWS_IAM'
                                 -#  - Authorizers ARR
                                 -#  - EnableIamAuthorizer BOOL (def: false)
                                  #  - DefaultAuthorizer 'AUTHORIZER'
                                 =#  - ResourcePolicy SPOLICY

SPOLICY.CustomStatements         =#IAM STATEMENT_ARR
SPOLICY.AwsAccountWhitelist      =#'ACCOUNT_ID'_ARR. Add STATEMENT with:
                                  #  - PACTION 'execute-api:Invoke'
                                  #  - PRINCIPAL '*'
                                  #  - COND_KEY 'aws:SourceAccount'
SPOLICY.IpRangeWhitelist         =#'IP'_ARR. Same with COND_KEY 'aws:SourceIp'
SPOLICY.IntrinsicVpc[e]Whitelist =#'VPC_MID'_ARR. Same with COND_KEY 'aws:SourceVpc[e]'
SPOLICY.SourceVpcWhitelist       =#Same but with 'VPC'_ARR
SPOLICY.*Blacklist               =#Same as *Whitelist but excludes instead

                                  ┌────────────────────┐
                                  │   API AUTHORIZER   │
                                  └────────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Auth: Authorizers[*]:
                                  #  (AUTH_TYPE 'TOKEN|REQUEST')
                                 =#  - FunctionPayloadType: AUTHORIZER.type
                                  #  - Identity:
                                  #     (AUTH_TYPE 'TOKEN|COGNITO_USER_POOLS')
                                 =#     - ValidationExpression
                                 =#     - Header 'HEADER'_ARR: AUTHORIZER.identitySource 'method.request.header.HEADER,...'
                                  #     (AUTH_TYPE 'REQUEST')
                                  #     - Headers 'HEADER'_ARR: AUTHORIZER.identitySource:
                                 =#        - 'method.request.header.HEADER,...'
                                 -#        - '$request.header.HEADER,...'
                                  #     - Context 'VAR'_ARR: AUTHORIZER.identitySource:
                                 =#        - 'context.VAR,...'
                                 -#        - '$context.VAR,...'
                                  #     - QueryStrings 'VAR'_ARR: AUTHORIZER.identitySource:
                                 =#        - 'method.request.querystring.VAR,...'
                                 -#        - '$request.querystring.VAR,...'
                                  #     - StageVariables 'STAGEVAR'_ARR: AUTHORIZER.identitySource:
                                 =#        - 'stageVariables.STAGEVAR,...'
                                 -#        - '$stageVariables.STAGEVAR,...'
                                  #     (AUTH_TYPE 'JWT')
                                 -#     - IdentitySource STR

                                  ┌────────────────────────┐
                                  │   API AUTHORIZER JWT   │
                                  └────────────────────────┘

AWS::Serverless::HttpApi         -#Includes RESPROPs: Auth: Authorizers[*]: JwtConfiguration, AuthorizationScopes
                                  #Also sets OSECURITY_DEF.x-amazon-apigateway-authorizer.*

                                  ┌────────────────────────────┐
                                  │   API AUTHORIZER COGNITO   │
                                  └────────────────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs: Auth: Authorizers[*]: UserPoolArn ARN, AuthorizationScopes

                                  ┌───────────────────────────┐
                                  │   API AUTHORIZER LAMBDA   │
                                  └───────────────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Auth: Authorizers[*]:
                                  #  - FunctionArn: AUTHORIZER.authorizerUri
                                  #  - FunctionInvokeRole: AUTHORIZER.authorizerCredentials
                                 =#  - DisableFunctionDefaultPermissions BOOL: if false (def), create Lambda PERMISSION
                                 -#  - EnableFunctionDefaultPermissions BOOL (def false): create Lambda PERMISSION
                                 -#  - AuthorizerPayloadFormatVersion
                                 -#  - EnableSimpleResponses
                                  #Also sets OSECURITY_DEF.x-amazon-apigateway-authorizer.*

                                  ┌──────────────────────────┐
                                  │   API AUTHORIZER CACHE   │
                                  └──────────────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Auth: Authorizers[*]:
                                  #  - Identity: ReauthorizeEvery: AUTHORIZER.authorizerResultTtlInSeconds

                                  ┌──────────────┐
                                  │   API CORS   │
                                  └──────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs:
                                  #  - Cors:
                                  #     - CORS.* except:
                                 =#        - no ExposeHeaders
                                  #        - can be 'ORIGIN' -> AllowOrigins[0]
                                  #     - uses OSPEC.* HTTP headers, not AWS::ApiGatewayV2::Api RESPROP CorsConfiguration
                                  #     - if INTEGRATION.type *_PROXY, CORS response headers must be implemented by backend
                                  #  - Auth:
                                 =#     - AddApiKeyRequiredToCorsPreflight BOOL (def: true): adds APIKEY to OSPEC???
                                 =#     - AddDefaultAuthorizerToCorsPreflight BOOL (def: true): adds default AUTHORIZER to OSPEC???

                                  ┌───────────────┐
                                  │   API STAGE   │
                                  └───────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs:
                                  #  - StageName
                                 -#     - def: '$default'
                                 =#  - Variables, MethodsSettings OBJ_ARR: ResourcePath, HttpMethod
                                 -#  - StageVariables
                                  #'RESOURCE' is 'API_MID{STAGE}Stage', 'SAM_RESOURCE' is 'API_MID.Stage'
                                 -#  - 'RESOURCE' is 'API_MIDApiGatewayDefaultStage' if StageName '$default'

                                  ┌────────────────────┐
                                  │   API DEPLOYMENT   │
                                  └────────────────────┘

AWS::Serverless::[Http]Api      =-#Create a DEPLOYMENT
                                  #Includes RESPROPs:
                                 =#  - AlwaysDeploy BOOL: if false (def), only if there was a change
                                 =#  - CanarySetting
                                  #'RESOURCE' is 'API_MIDDeploymentRANDOM', 'SAM_RESOURCE' is 'API_MID.Deployment'

                                  ┌─────────────────┐
                                  │   API METRICS   │
                                  └─────────────────┘

AWS::Serverless::[Http]Api       =#Includes RESPROPs: MethodsSettings OBJ_ARR: MetricsEnabled
                                -~#Includes RESPROPs: DefaultRouteSettings|RouteSettings.ROUTE: DetailedMetricsEnabled

                                  ┌─────────────────┐
                                  │   API LOGGING   │
                                  └─────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs:
                                 =#  - MethodsSettings OBJ_ARR: LoggingLevel, DataTraceEnabled
                                 -#  - DefaultRouteSettings|RouteSettings.ROUTE: LoggingLevel, DataTraceEnabled
                                  #  - AccessLogSettings
                                 =#  - TracingEnabled

                                  ┌─────────────────┐
                                  │   API CACHING   │
                                  └─────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs:
                                  #  - CacheClusterEnabled, CacheClusterSize
                                  #  - MethodsSettings OBJ_ARR: CachingEnabled, CacheTtlInSeconds, CacheDataEncrypted
                                  #Sets INTEGRATION.cacheKeyParameters|cacheNamespace through RESPROP Definition*

                                  ┌───────────────────────┐
                                  │   API IMPORT/EXPORT   │
                                  └───────────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs:
                                  #  - DefinitionBody RAW_API_EXPORT_OBJ
                                  #     - def: automatically created
                                  #  - DefinitionUri OBJ: Bucket 'BUCKET', Key 'OBJECT', Version VERSION_MID
                                  #     - can use `sam package` (not `aws cloudformation package`)
                                  #     - unlike DefinitionBody, prevent setting RESPROPs: Name, Description, Tags, Cors
                                 =#  - OpenApiVersion API_EXPORT_TYPE
                                  #     - either '2.0' or '3.0.1'
                                  #     - if set, no STAGE is created
                                 =#  - MergeDefinitions BOOL (def: false)
                                  #     - if non-default DefinitionBody set, merge it with the OSPEC.* set by other properties
                                 =#  - Mode
                                  #  - FailOnWarnings

                                  ┌─────────────────────┐
                                  │   API DOMAIN NAME   │
                                  └─────────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs:
                                  #  - Domain: DomainName, EndpointConfiguration STR
                                 =#  - DisableExecuteApiEndpoint
                                  #     - also sets OSPEC2|OSERVER3.x-amazon-apigateway-endpoint-configuration.disableExecuteApiEndpoint
                                 =#  - EndpointConfiguration.type STR
                                  #Cannot set OSPEC2|OSERVER3.x-amazon-apigateway-endpoint-configuration.disableExecuteApiEndpoint
                                  #'RESOURCE' is 'ApiGatewayDomainName[V2]RANDOM', 'SAM_RESOURCE' is 'API_MID.DomainName'

                                  ┌─────────────────────┐
                                  │   API PRIVATE API   │
                                  └─────────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs: EndpointConfiguration: VpcEndpointIds
                                  #Cannot set OSPEC2|OSERVER3.x-amazon-apigateway-endpoint-configuration.vpcEndpointIds

                                  ┌─────────────┐
                                  │   API TLS   │
                                  └─────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Domain:
                                  #  - CertificateArn: DNAME.[Regional]CertificateArn
                                  #  - SecurityPolicy
                                  #  - OwnershipVerificationCertificateArn
                                  #  - MutualTlsAuthentication
                                  #     - no TruststoreWarnings

                                  ┌─────────────────┐
                                  │   API MAPPING   │
                                  └─────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Domain:
                                  #  - BasePath 'BASEPATH'_ARR (def: ['/'])
                                 =#  - NormalizeBasePath BOOL (def: true): strip invalid chars

                                  ┌────────────────────┐
                                  │   API USAGE PLAN   │
                                  └────────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs: Auth: UsagePlan:
                                  #  - UsagePlanName, Description, Tags
                                  #  - CreateUsagePlan: configure creation of USAGEPLAN, USAGEKEY, APIKEY among:
                                  #     - 'NONE': no creation
                                  #     - 'PER_API': 'RESOURCE' name in TEMPLATE is namespaced by API_MID
                                  #     - 'SHARED': always namespaced by 'Serverless'
                                  #        - shared by all APIs in TEMPLATE
                                  #        - must be specified by only one AWS::Serverless::Api
                                  #'RESOURCE' is 'API_MIDUsagePlan', 'SAM_RESOURCE' is 'API_MID.UsagePlan'

                                  ┌──────────────────┐
                                  │   API THROTTLE   │
                                  └──────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs:
                                 =#  - MethodsSettings OBJ_ARR: ThrottlingRate, ThrottlingBurstLimit
                                 -#  - DefaultRouteSettings|RouteSettings.ROUTE: ThrottlingRate, ThrottlingBurstLimit
                                 =#  - Auth: UsagePlan: Throttle, Quota, ApiStages OBJ_ARR: Throttle

                                  ┌────────────────────────┐
                                  │   API USAGE PLAN KEY   │
                                  └────────────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs: Auth: UsagePlan: creates USAGEKEY
                                  #'RESOURCE' is 'API_MIDUsagePlanKey', 'SAM_RESOURCE' is 'API_MID.UsagePlanKey'

                                  ┌─────────────────┐
                                  │   API API KEY   │
                                  └─────────────────┘

AWS::Serverless::Api             =#Includes RESPROPs: Auth:
                                  #  - UsagePlan: creates APIKEY
                                  #  - ApiKeySourceType
                                  #  - ApiKeyRequired
                                  #Cannot use OSPEC.x-amazon-apigateway-api-key-source
                                  #'RESOURCE' is 'API_MIDApiKey', 'SAM_RESOURCE' is 'API_MID.ApiKey'

                                  ┌─────────────────┐
                                  │   API ROUTE53   │
                                  └─────────────────┘

AWS::Serverless::[Http]Api      =-#Includes RESPROPs: Domain: Route53 RECORD_SET:
                                  #  - HostedZoneId
                                  #  - HostedZoneName
                                  #  - Region
                                  #  - SetIdentifier
                                  #  - IpV6 BOOL (def: false): RECORD_SET.Type 'A|AAAA'
                                  #  - DistributionDomainName: RECORD_SET.AliasTarget.DNSName (def: 'DNAME')
                                  #  - EvaluateTargetHealth

                                  ┌───────────────────┐
                                  │   FUNCTION MAIN   │
                                  └───────────────────┘


AWS::Serverless::Function         #Expands to:
                                  #  - Lambda:
                                  #     - FUNCTION
                                  #     (optional)
                                  #     - FUNC_VERSION
                                  #        - ROLE
                                  #     - ALIAS
                                  #     - FUNC_URL
                                  #     - EVENT_INVOKE
                                  #  (optional)
                                  #  - SQS QUEUE
                                  #  - SNS TOPIC
                                  #  - CodeDeploy APPLICATION, DEPLOYMENT_GROUP, ROLE
                                  #And optional TRIGGERs:
                                  #  - Lambda EVENT_SOURCE
                                  #  - API Gateway INTEGRATION (and API, RESOURCE, METHOD, REQVALID)
                                  #  - S3 NOTIFICATIONS
                                  #  - CloudWatch Logs SUBSCRIPTION
                                  #  - SNS SUBSCRIPTION
                                  #  - EventBridge RULE
                                  #  - EventBridge Scheduler SCHEDULE
                                  #  - IoT TOPIC_RULE

                                  ┌───────────────────────┐
                                  │   FUNCTION FUNCTION   │
                                  └───────────────────────┘

AWS::Serverless::Function         #Includes RESPROPs: Description

                                  ┌──────────────────────────┐
                                  │   FUNCTION IDENTIFIERS   │
                                  └──────────────────────────┘

AWS::Serverless::Function         #Includes RESPROPs:
                                  #  - FunctionName
                                  #  - AutoPublishCodeSha256: FUNC_VERSION.CodeSha256
                                  #     - only if RESPROP AutoPublishAlias set
                                  #Includes RESATTRs: Arn

                                  ┌────────────────────┐
                                  │   FUNCTION ALIAS   │
                                  └────────────────────┘

AWS::Serverless::Function         #Includes RESPROPs: AutoPublishAlias 'ALIAS' (def: none)
                                  #  - creates ALIAS: 'RESOURCE' is 'FUNCTIONAliasALIAS', 'SAM_RESOURCE' is 'FUNCTION.Alias'

RESPROP Architectures
RESPROP CodeSigningConfigArn
RESPROP Environment
RESPROP EphemeralStorage
RESPROP FileSystemConfigs
RESPROP Handler
RESPROP ImageConfig
RESPROP KmsKeyArn
RESPROP Layers
RESPROP LoggingConfig
RESPROP MemorySize
RESPROP PackageType
RESPROP RecursiveLoop
RESPROP ReservedConcurrentExecutions
RESPROP Runtime
RESPROP RuntimeManagementConfig
RESPROP SnapStart
RESPROP Timeout
RESPROP VpcConfig                 #Same as AWS::Lambda::Function

RESPROP CodeUri                   #One of:
                                  #  - OBJ: Bucket|Key|Version: same as AWS::Lambda::Function RESPROP Code: S3Bucket|S3Key|S3ObjectVersion
                                  #  - S3 'URI' to .zip file: same as AWS::Lambda::Function RESPROP Code: S3Bucket|S3Key|S3ObjectVersion
                                  #Can use `sam package` (not `aws cloudformation package`)
RESPROP InlineCode                #Same as AWS::Lambda::Function RESPROP Code: ZipFile
RESPROP SourceKMSKeyArn           #Same as AWS::Lambda::Function RESPROP Code: SourceKMSKeyArn
RESPROP ImageUri                  #Same as AWS::Lambda::Function RESPROP Code: ImageUri

RESPROP Role                      #Same as AWS::Lambda::Function
                                  #Def: automatically creates ROLE 'FUNCTIONRole'
                                  #  - AWSXrayWriteOnlyAccess AWS managed POLICY: unless RESPROP Tracing 'Disabled'
RESPROP Policies
RESPROP PermissionsBoundary
RESPROP AssumeRolePolicyDocument
RESPROP RolePath                  #Same as AWS::Iam::Role, for default RESPROP Role

RESPROP DeadLetterQueue           #OBJ: Type 'SQS|SNS', TargetArn 'ARN'
                                  #Same as AWS::Lambda::Function RESPROP DeadLetterConfig.TargetArn

RESPROP Tracing                   #'Active', 'PassThrough' or 'Disabled' (def)
                                  #Same as AWS::Lambda::Function RESPROP TracingConfig

RESPROP Tags                      #OBJ
RESPROP PropagateTags             #BOOL. Whether Tags targets:
                                  #  - false (def): FUNCTION
                                  #  - true: all generated RESOURCEs

RESPROP AutoPublishAlias          #'ALIAS' (def: none). Creates FUNC_VERSION: 'RESOURCE' is 'FUNCTIONVersionRANDOM', 'SAM_RESOURCE' is 'FUNCTION.Version'
RESPROP                           #BOOL. Skip creating a FUNC_VERSION if none of the following AWS::Serverless::Function RESPROPs changed:
 AutoPublishAliasAllProperties    #  - false (def): *Code*, ImageUri, Environment, MemorySize, SnapStart, AutoPublishCodeSha256
                                  #  - true: any
                                  #Only if RESPROP AutoPublishAlias set
RESPROP VersionDescription        #Same as AWS::Lambda::Version RESPROP Description
                                  #Only if RESPROP AutoPublishAlias set
RESPROP
 ProvisionedConcurrencyConfig     #Same as AWS::Lambda::Alias|Version
                                  #Only if RESPROP AutoPublishAlias set

RESPROP FunctionUrlConfig         #OBJ: AuthType, Cors, InvokeMode
                                  #Create a FUNC_URL. Same as AWS::Lambda::Url RESPROPs

RESPROP EventInvokeConfig         #OBJ: DestinationConfig, MaximumEventAgeInSeconds, MaximumRetryAttempts
                                  #Create an EVENT_INVOKE 'FUNCTIONEventInvokeConfig'
                                  #Can also create:
                                  #  - SNS TOPIC 'FUNCTIONOnSuccess|FailureTopic', with 'SAM_RESOURCE' 'FUNCTION.DestinationTopic'
                                  #  - SQS QUEUE 'FUNCTIONOnSuccess|FailureQueue', with 'SAM_RESOURCE' 'FUNCTION.DestinationQueue'
                                  #Same as AWS::Lambda::EventInvokeConfig RESPROPs

RESPROP DeploymentPreference      #OBJ:
                                  #  - Enabled BOOL (def: false): create a CodeDeploy:
                                  #     - APPLICATION 'ServerlessDeploymentApplication' (singleton per STACK)
                                  #     - DEPLOYMENT_GROUP 'FUNCTIONDeploymentGroup'
                                  #  - Role ROLE_ARN
                                  #     - AWS::CodeDeploy::DeploymentGroup RESPROP ServiceRoleArn
                                  #     - def: automatically create ROLE 'CodeDeployServiceRole' (singleton per STACK)
                                  #  - TriggerConfigurations: same as AWS::CodeDeploy::DeploymentGroup
                                  #  - Alarms ARR: same as AWS::CodeDeploy::DeploymentGroup RESPROP AlarmConfiguration.Alarms
                                  #  - Hooks OBJ: PreTraffic|PostTraffic: same as AWS::CodeDeploy::DeploymentGroup
                                  #    RESOURCE.UpdatePolicy.CodeDeployLambdaAliasUpdate.Before|AfterAllowTrafficHook
                                  #  - PassthroughCondition BOOL (def: false, recommended: true): copy RESOURCE.Condition
                                  #    from AWS::Serverless::Function to AWS::CodeDeploy::DeploymentGroup
                                  #  - Type 'Linear10Percent5|10|15|30Minutes', 'Canary10Percent5|10|15|30Minutes', 'AllAtOnce': not documented yet???
                                  #Only if AutoPublishedAlias set

RESPROP Events                    #OBJ:
                                  #  - Type 'TRIGGER_TYPE'
                                  #  - Properties TRIGGER_PROPS: TRIGGER_TYPE-specific
                                  #TRIGGER_TYPEs and TRIGGER_PROPS are documented in their respective SERVICEs

TRIGGER_TYPE 'DocumentDB|DynamoDB #Create an EVENT_SOURCE
 |KinesisMSK|MQ|SelfManagedKafka  #'RESOURCE' is 'FUNCTION' + name of Cluster|Stream|Broker|Queue RESPROP
 |SQS'                            #TRIGGER_PROPS is AWS::Lambda::EventSourceMapping RESPROPs except:
                                  #  - no FunctionName, Tags
                                  #  - *Config.* -> *
                                  #  - SelfManagedKafkaEventSourceConfig.Endpoints.KafkaBootstrapServers -> KafkaBootstrapServers
                                  #  - EventSourceArn is named:
                                  #     - Cluster (for TRIGGER_TYPE 'DocumentDB')
                                  #     - Stream (for TRIGGER_TYPE 'DynamoDB|Kinesis|MSK')
                                  #     - Broker (for TRIGGER_TYPE 'MQ')
                                  #     - Queue (for TRIGGER_TYPE 'SQS')
                                  #  (TRIGGER_TYPE 'DocumentDB|MQ')
                                  #  - SecretsManagerKmsKeyId KMS KEY_MID
                                  #  (TRIGGER_TYPE 'MQ')
                                  #  - DynamicPolicyName BOOL:
                                  #     - whether to name generated ROLE 'SamAutoGeneratedAMQPolicy' (false, def) or random (true, recommended)
                                  #     - regardless: always generate a ROLE

TRIGGER_TYPE 'Api'               =#Create a Lambda INTEGRATION (including potentially API, RESOURCE, ROUTE, REQVALID)
                                  #TRIGGER_PROPS:
                                  #  - RestApiId API Gateway API_MID
                                  #     - API must be defined in same TEMPLATE
                                  #     - def: create a AWS::Serverless::Api 'ServerlessRestApi'
                                  #  - Method 'HTTP_METHOD': AWS::ApiGateway::Method RESPROP HttpMethod
                                  #  - Path '/PATH': AWS::ApiGateway::Resource
                                  #  - RequestModel OBJ:
                                  #     - Model 'MODEL': AWS::ApiGateway::Method RESPROP RequestModels
                                  #     - Required BOOL: sets OPARAM.required
                                  #     - ValidateBody: AWS::ApiGateway::RequestValidator RESPROP ValidateRequestBody
                                  #     - ValidateParameters: AWS::ApiGateway::RequestValidator RESPROP ValidateRequestParameters
                                  #  - RequestParameters ARR of either:
                                  #     - 'EXPR': same as {EXPR: {}}
                                  #     - EXPR:
                                  #        - Required BOOL (def: false): AWS::ApiGateway::Method RESPROP RequestParameters
                                  #        - Caching BOOL (def: false): AWS::ApiGateway::Method RESPROP Integration: CacheKeyParameters
                                  #  - TimeoutInMillis NUM: AWS::ApiGateway::Method RESPROP Integration: TimeoutInMillis
                                  #     - if RESPROP RestApiId set, it must use a DefinitionBody
                                  #  - Auth OBJ:
                                  #     - ApiKeyRequired BOOL: AWS::ApiGateway::Method RESPROP ApiKeyRequired
                                  #     - AuthorizationScopes STR_ARR: AWS::ApiGateway::Method RESPROP AuthorizationScopes
                                  #     - Authorizer 'AWS_IAM', 'NONE' or a specific 'AUTHORIZER':
                                  #       AWS::ApiGateway::Method RESPROP AuthorizationType, AuthorizerId
                                  #     - InvokeRole STR: like AWS::Serverless::Api RESPROP InvokeRole
                                  #     - ResourcePolicy: like AWS::Serverless::Api RESPROP Auth: ResourcePolicy
                                  #     - OverrideApiAuth BOOL (def: false): must be true if all of:
                                  #        - other TRIGGER_PROPS Auth.* set
                                  #        - TRIGGER_PROPS RestApiId set
                                  #        - API is using RESPROP DefinitionBody
TRIGGER_TYPE 'HttpApi'           -#Create a Lambda INTEGRATION (including potentially API, ROUTE)
                                  #TRIGGER_PROPS:
                                  #  - ApiId API Gateway API_MID
                                  #     - API must be defined in same TEMPLATE
                                  #     - def: create a AWS::Serverless::HttpApi 'ServerlessHttpApi'
                                  #  - Method 'HTTP_METHOD' + Path '/PATH': AWS::ApiGatewayV2::Route RESPROP RouteKey
                                  #     - def: '$default'
                                  #  - TimeoutInMillis NUM: AWS::ApiGatewayV2::Integration RESPROP TimeoutInMillis
                                  #     - if RESPROP RestApiId set, it must use a DefinitionBody
                                  #  - PayloadFormatVersion STR: AWS::ApiGatewayV2::Integration RESPROP PayloadFormatVersion
                                  #     - if RESPROP RestApiId set, it must use a DefinitionBody
                                  #  - RouteSettings OBJ: AWS::ApiGatewayV2::Stage RESPROP RouteSettings
                                  #  - Auth OBJ:
                                  #     - AuthorizationScopes STR_ARR: AWS::ApiGatewayV2::Route RESPROP AuthorizationScopes
                                  #     - Authorizer 'AWS_IAM', 'NONE' or a specific 'AUTHORIZER':
                                  #       AWS::ApiGatewayV2::Route RESPROP AuthorizationType, AuthorizerId

TRIGGER_TYPE 'S3'                 #Create a S3 NOTIFICATIONS
                                  #TRIGGER_PROPS:
                                  #  - Bucket 'BUCKET'
                                  #     - must be in same TEMPLATE
                                  #  - Events STR[_ARR], Filter OBJ: like AWS::S3::Bucket RESPROP NotificationConfiguration: LambdaConfigurations[*]

TRIGGER_TYPE 'CloudWatchLogs'     #Create a CloudWatch Logs SUBSCRIPTION
                                  #TRIGGER_PROPS:
                                  #  - FilterPattern, LogGroupName: like AWS::Logs::SubscriptionFilter

To add to new_services doc:
  - Alexa:
     - TRIGGER_TYPE 'AlexaSkill': https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-alexaskill.html
  - Cognito:
     - TRIGGER_TYPE 'Cognito': https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-cognito.html
  - EventBridge:
     - TRIGGER_TYPE 'EventBridgeRule':
        - https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-eventbridgerule.html
        - https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-specification-generated-resources-function.html#sam-specification-generated-resources-function-eventbridge
     - TRIGGER_TYPE 'CloudWatchEvent': https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-cloudwatchevent.html
     - TRIGGER_TYPE 'Schedule': https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-schedule.html
     - TRIGGER_TYPE 'ScheduleV2': https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-schedulev2.html
  - IoT Core:
     - TRIGGER_TYPE 'IoTRule':
        - https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-iotrule.html
        - https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-specification-generated-resources-function.html#sam-specification-generated-resources-function-iotrule
  - SNS:
     - TRIGGER_TYPE 'SNS': https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-property-function-sns.html
