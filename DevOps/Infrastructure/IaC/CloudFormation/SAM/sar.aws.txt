
                                  ┏━━━━━━━━━┓
                                  ┃   SAR   ┃
                                  ┗━━━━━━━━━┛

VERSION ==>                       #2024-11-05

SAM CLI ==>                       #See its doc
SAM TRANSFORM ==>                 #See its doc

SAR                               #AWS Serverless Application Repository

sam publish                       #Publish package to SAR
--fail-on-same-version            #BOOL (def: false). Fail if version already exists

TEMPLATE.Metadata['AWS::
 ServerlessRepo::Application']    #SAR_APP. Must be set to publish

SAR_APP.SemanticVersion           #'APP_VERSION'
sam publish --semantic-version    #Overrides SAR_APP.SemanticVersion

serverlessrepo.amazonaws.com      #SERVICE_DOMAIN

FORMAT ==>                        #JSON REST
                                  #Query parameters for GET

ERRORS ==>                        #OBJ: errorCode, message
                                  #Also uses status code

PAGINATION ==>                    #Uses REQ.maxItems + REQ|RES.nextToken

POST /applications                #Req: APP
CreateApplication()               #  - no applicationId, *verifiedAuthor*, creationTime
                                  #  - version.* -> *
                                  #     - no creationTime, requiredCapabilities, resourcesSupported
                                  #Res: APP
                                  #  - no *Body
PATCH /applications/APP_ID        #Req: APP
UpdateApplication()               #  - no applicationId, *verifiedAuthor*, creationTime
                                  #  - no version, name, spdxLicenseId, license*
                                  #Res: APP
                                  #  - no *Body
GET /applications                 #Req: none
ListApplications()                #Res: applications APP_ARR
                                  #  - no version, *verifiedAuthor*, license*, readme*
GET /applications/APP_ID          #Req: APP
GetApplication()                  #  - only version.semanticVersion
                                  #Res: APP
                                  #  - no *Body
DELETE /applications/APP_ID       #Req: none
DeleteApplication()               #Res: none

APP[_VERSION].applicationId       #'APP_ID'
APP.name                          #'APP'
APP.description                   #STR
APP.author                        #STR
APP.isVerifiedAuthor              #BOOL
APP.verifiedAuthorUrl             #STR
APP.spdxLicenseId                 #STR
APP.licenseBody                   #STR
APP.licenseUrl                    #STR
APP.readmeBody                    #STR
APP.readmeUrl                     #STR
APP.labels                        #STR_ARR
APP.creationTime                  #STR
APP.homePageUrl                   #STR

PUT /applications/APP_ID          #Req: APP_VERSION
 /versions/APP_VERSION            #  - no semanticVersion, creationTime, requiredCapabilities, resourcesSupported, parameterDefinitions
CreateApplicationVersion()        #Res: APP_VERSION
                                  #  - no templateBody
GET /applications/APP_ID/versions #Req: none
ListApplicationVersions()         #Res: versions APP_VERSION_ARR
                                  #  - no sourceCodeArchiveUrl, templateBody, requiredCapabilities, resourcesSupported, parameterDefinitions

APP.version                       #APP_VERSION
APP_VERSION.semanticVersion       #'APP_VERSION'
APP_VERSION.sourceCodeUrl         #STR
APP_VERSION.sourceCodeArchiveUrl  #STR
APP_VERSION.templateBody          #STR
APP_VERSION.templateUrl           #STR
APP_VERSION.creationTime          #STR
APP_VERSION.requiredCapabilities  #STR_ARR
APP_VERSION.resourcesSupported    #BOOL

APP_VERSION.parameterDefinitions  #PARAMDEF_ARR
PARAMDEF.name                     #STR
PARAMDEF.defaultValue             #STR
PARAMDEF.description              #STR
PARAMDEF.type                     #STR
PARAMDEF.noEcho                   #BOOL
PARAMDEF.allowedPattern           #STR
PARAMDEF.constraintDescription    #STR
PARAMDEF.minValue                 #NUM
PARAMDEF.maxValue                 #NUM
PARAMDEF.minLength                #NUM
PARAMDEF.maxLength                #NUM
PARAMDEF.allowedValues            #STR_ARR
PARAMDEF.referencedByResources    #STR_ARR

POST                              #Req: APP_TEMPLATE
 /applications/APP_ID/templates   #  - no applicationId, template*, status, *Time
CreateCloudFormationTemplate()    #Res: APP_TEMPLATE
GET /applications/APP_ID
 /templates/APP_TEMPLATE          #Req: empty
GetCloudFormationTemplate()       #Res: APP_TEMPLATE

APP_TEMPLATE.templateId           #'APP_TEMPLATE'
APP_TEMPLATE.templateUrl          #STR
APP_TEMPLATE.applicationId        #'APP_ID'
APP_TEMPLATE.semanticVersion      #STR
APP_TEMPLATE.status               #STR
APP_TEMPLATE.creationTime         #STR
APP_TEMPLATE.expirationTime       #STR

POST /applications/APP_ID/changesets
CreateCloudFormationChangeSet()

GET /applications/APP_ID/dependencies
ListApplicationDependencies()

GET /applications/APP_ID/policy
GetApplicationPolicy()

POST /applications/APP_ID/unshare
UnshareApplication()
